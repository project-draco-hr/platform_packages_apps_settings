{
  final boolean checked;
switch (which) {
case DialogInterface.BUTTON_POSITIVE:
    checked=(mShownDialogId == DIALOG_ID_ENABLE_WARNING);
  mToggleSwitch.setCheckedInternal(checked);
getArguments().putBoolean(EXTRA_CHECKED,checked);
onPreferenceToggled(mPreferenceKey,checked);
break;
case DialogInterface.BUTTON_NEGATIVE:
checked=(mShownDialogId == DIALOG_ID_DISABLE_WARNING);
mToggleSwitch.setCheckedInternal(checked);
getArguments().putBoolean(EXTRA_CHECKED,checked);
onPreferenceToggled(mPreferenceKey,checked);
break;
default :
throw new IllegalArgumentException();
}
}
