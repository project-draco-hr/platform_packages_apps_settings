{
  super.onInstallActionBarToggleSwitch();
  mToggleSwitch.setOnBeforeCheckedChangeListener(new OnBeforeCheckedChangeListener(){
    @Override public boolean onBeforeCheckedChanged(    ToggleSwitch toggleSwitch,    boolean checked){
      if (checked) {
        if (!TextUtils.isEmpty(mEnableWarningMessage)) {
          toggleSwitch.setCheckedInternal(false);
          getArguments().putBoolean(EXTRA_CHECKED,false);
          showDialog(DIALOG_ID_ENABLE_WARNING);
          return true;
        }
        onPreferenceToggled(mPreferenceKey,true);
      }
 else {
        if (!TextUtils.isEmpty(mDisableWarningMessage)) {
          toggleSwitch.setCheckedInternal(true);
          getArguments().putBoolean(EXTRA_CHECKED,true);
          showDialog(DIALOG_ID_DISABLE_WARNING);
          return true;
        }
        onPreferenceToggled(mPreferenceKey,false);
      }
      return false;
    }
  }
);
}
