{
  mCursor=managedQuery(Telephony.Carriers.CONTENT_URI,new String[]{"_id","name","apn"},null,Telephony.Carriers.DEFAULT_SORT_ORDER);
  PreferenceGroup apnList=(PreferenceGroup)findPreference("apn_list");
  apnList.removeAll();
  mCursor.moveToFirst();
  while (!mCursor.isAfterLast()) {
    String name=mCursor.getString(NAME_INDEX);
    String apn=mCursor.getString(APN_INDEX);
    if (name != null && apn != null && TextUtils.getTrimmedLength(name) > 0 && TextUtils.getTrimmedLength(apn) > 0) {
      Preference pref=new Preference((Context)this);
      pref.setKey(mCursor.getString(ID_INDEX));
      pref.setTitle(name);
      pref.setSummary(apn);
      pref.setPersistent(false);
      apnList.addPreference(pref);
    }
    mCursor.moveToNext();
  }
}
