{
  final ImageView appIcon=(ImageView)bar.findViewById(R.id.app_icon);
  appIcon.setImageDrawable(icon);
  if (tintColorRes != 0) {
    appIcon.setImageTintList(ColorStateList.valueOf(activity.getColor(tintColorRes)));
  }
  final TextView appName=(TextView)bar.findViewById(R.id.app_name);
  appName.setText(label);
  final View appSettings=bar.findViewById(R.id.app_settings);
  if (includeAppInfo && pkgName != null && !pkgName.equals(Utils.OS_PKG)) {
    appSettings.setClickable(true);
    appSettings.setOnClickListener(new OnClickListener(){
      @Override public void onClick(      View v){
        AppInfoBase.startAppInfoFragment(InstalledAppDetails.class,R.string.application_info_label,pkgName,uid,activity,INSTALLED_APP_DETAILS);
      }
    }
);
  }
 else {
    appSettings.setVisibility(View.GONE);
  }
  return bar;
}
