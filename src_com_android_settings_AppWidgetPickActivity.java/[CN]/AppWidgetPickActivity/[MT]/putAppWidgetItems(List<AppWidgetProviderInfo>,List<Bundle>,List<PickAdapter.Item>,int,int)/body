{
  if (appWidgets == null)   return;
  final int size=appWidgets.size();
  for (int i=0; i < size; i++) {
    AppWidgetProviderInfo info=appWidgets.get(i);
    CharSequence label=info.label;
    Drawable icon=null;
    if (info.icon != 0) {
      icon=mPackageManager.getDrawable(info.provider.getPackageName(),info.icon,null);
      if (icon == null) {
        Log.w(TAG,"Can't load icon drawable 0x" + Integer.toHexString(info.icon) + " for provider: "+ info.provider);
      }
    }
    PickAdapter.Item item=new PickAdapter.Item(this,label,icon);
    item.packageName=info.provider.getPackageName();
    item.className=info.provider.getClassName();
    if (customExtras != null) {
      item.extras=customExtras.get(i);
    }
    if ((info.widgetCategory & categoryFilter) == 0) {
      continue;
    }
    if ((info.widgetFeatures & featuresFilter) != featuresFilter) {
      continue;
    }
    items.add(item);
  }
}
