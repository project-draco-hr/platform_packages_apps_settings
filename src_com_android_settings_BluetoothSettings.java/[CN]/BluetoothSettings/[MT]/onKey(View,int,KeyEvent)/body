{
  if (keyCode == KeyEvent.KEYCODE_DPAD_CENTER || keyCode == KeyEvent.KEYCODE_ENTER) {
    String pin=((EditText)v).getText().toString();
    if (pin != null && pin.length() > 0) {
      sendPin(pin);
      mPinDialog.dismiss();
      return true;
    }
  }
 else   if (mPinButton1 != null) {
    boolean valid=BluetoothDevice.convertPinToBytes(((EditText)v).getText().toString()) != null;
    mPinButton1.setEnabled(valid);
  }
  return false;
}
