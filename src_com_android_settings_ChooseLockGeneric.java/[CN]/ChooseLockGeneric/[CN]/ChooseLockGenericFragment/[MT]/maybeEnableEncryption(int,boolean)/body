{
  if (Process.myUserHandle().isOwner() && LockPatternUtils.isDeviceEncryptionEnabled()) {
    mEncryptionRequestQuality=quality;
    mEncryptionRequestDisabled=disabled;
    final Context context=getActivity();
    final boolean accEn=AccessibilityManager.getInstance(context).isEnabled();
    final boolean required=mLockPatternUtils.isCredentialRequiredToDecrypt(!accEn);
    Intent intent=getEncryptionInterstitialIntent(context,quality,required);
    startActivityForResult(intent,ENABLE_ENCRYPTION_REQUEST);
  }
 else {
    mRequirePassword=false;
    updateUnlockMethodAndFinish(quality,disabled);
  }
}
