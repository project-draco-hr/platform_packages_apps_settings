{
  super.onCreate(savedInstanceState);
  mLockPatternUtils=new LockPatternUtils(this);
  if (mLockPatternUtils.isDevicePolicyActive()) {
    mRequestedMode=mLockPatternUtils.getRequestedPasswordMode();
    mPasswordMinLength=mLockPatternUtils.getRequestedMinimumPasswordLength();
  }
 else {
    mRequestedMode=getIntent().getIntExtra(LockPatternUtils.PASSWORD_TYPE_KEY,mRequestedMode);
    mPasswordMinLength=getIntent().getIntExtra(PASSWORD_MIN_KEY,mPasswordMinLength);
  }
  mPasswordMaxLength=getIntent().getIntExtra(PASSWORD_MAX_KEY,mPasswordMaxLength);
  initViews();
  mChooseLockSettingsHelper=new ChooseLockSettingsHelper(this);
  if (savedInstanceState == null) {
    updateStage(Stage.Introduction);
    mChooseLockSettingsHelper.launchConfirmationActivity(CONFIRM_EXISTING_REQUEST);
  }
}
