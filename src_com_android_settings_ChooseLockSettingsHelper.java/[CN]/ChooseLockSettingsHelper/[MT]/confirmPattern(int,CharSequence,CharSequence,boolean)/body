{
  if (!mLockPatternUtils.isLockPatternEnabled() || !mLockPatternUtils.savedPatternExists()) {
    return false;
  }
  final Intent intent=new Intent();
  intent.putExtra(ConfirmLockPattern.HEADER_TEXT,message);
  intent.putExtra(ConfirmLockPattern.FOOTER_TEXT,details);
  intent.setClassName("com.android.settings",returnCredentials ? ConfirmLockPattern.InternalActivity.class.getName() : ConfirmLockPattern.class.getName());
  if (mFragment != null) {
    mFragment.startActivityForResult(intent,request);
  }
 else {
    mActivity.startActivityForResult(intent,request);
  }
  return true;
}
