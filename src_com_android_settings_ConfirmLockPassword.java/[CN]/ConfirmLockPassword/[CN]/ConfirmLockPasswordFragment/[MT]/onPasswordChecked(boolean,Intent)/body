{
  mPasswordEntry.setEnabled(true);
  if (matched) {
    getActivity().setResult(RESULT_OK,intent);
    getActivity().finish();
  }
 else {
    if (++mNumWrongConfirmAttempts >= LockPatternUtils.FAILED_ATTEMPTS_BEFORE_TIMEOUT) {
      long deadline=mLockPatternUtils.setLockoutAttemptDeadline(UserHandle.myUserId());
      handleAttemptLockout(deadline);
    }
 else {
      showError(getErrorMessage());
    }
  }
}
