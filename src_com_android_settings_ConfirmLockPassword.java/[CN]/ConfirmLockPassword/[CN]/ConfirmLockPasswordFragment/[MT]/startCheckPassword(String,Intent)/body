{
  mPendingLockCheck=LockPatternChecker.checkPassword(mLockPatternUtils,pin,UserHandle.myUserId(),new LockPatternChecker.OnCheckCallback(){
    @Override public void onChecked(    boolean matched){
      mPendingLockCheck=null;
      if (matched && isInternalActivity()) {
        intent.putExtra(ChooseLockSettingsHelper.EXTRA_KEY_TYPE,mIsAlpha ? StorageManager.CRYPT_TYPE_PASSWORD : StorageManager.CRYPT_TYPE_PIN);
        intent.putExtra(ChooseLockSettingsHelper.EXTRA_KEY_PASSWORD,pin);
      }
      onPasswordChecked(matched,intent);
    }
  }
);
}
