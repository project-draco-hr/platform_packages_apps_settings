{
  super.onResume();
  Intent intent=getIntent();
  String action=intent.getAction();
  if (ACTION_RESET.equals(action)) {
    new ResetDialog();
  }
 else {
    if (!checkKeyguardQuality()) {
      new ConfigureLockScreenDialog();
      return;
    }
    if (ACTION_INSTALL.equals(action) && "com.android.certinstaller".equals(getCallingPackage())) {
      mBundle=intent.getExtras();
    }
switch (mKeyStore.state()) {
case UNINITIALIZED:
      throw new AssertionError();
case LOCKED:
    new UnlockDialog();
  break;
case UNLOCKED:
install();
finish();
break;
}
}
}
