{
  super.onCreate(savedInstanceState);
  final String state=SystemProperties.get("vold.decrypt");
  if (!isDebugView() && ("".equals(state) || DECRYPT_STATE.equals(state))) {
    PackageManager pm=getPackageManager();
    ComponentName name=new ComponentName(this,CryptKeeper.class);
    pm.setComponentEnabledSetting(name,PackageManager.COMPONENT_ENABLED_STATE_DISABLED,PackageManager.DONT_KILL_APP);
    finish();
    return;
  }
  StatusBarManager sbm=(StatusBarManager)getSystemService(Context.STATUS_BAR_SERVICE);
  sbm.disable(StatusBarManager.DISABLE_EXPAND | StatusBarManager.DISABLE_NOTIFICATION_ICONS | StatusBarManager.DISABLE_NOTIFICATION_ALERTS| StatusBarManager.DISABLE_SYSTEM_INFO| StatusBarManager.DISABLE_HOME| StatusBarManager.DISABLE_RECENT);
  mAudioManager=(AudioManager)getSystemService(Context.AUDIO_SERVICE);
  final Object lastInstance=getLastNonConfigurationInstance();
  if (lastInstance instanceof NonConfigurationInstanceState) {
    NonConfigurationInstanceState retained=(NonConfigurationInstanceState)lastInstance;
    mWakeLock=retained.wakelock;
    Log.d(TAG,"Restoring wakelock from NonConfigurationInstanceState");
  }
}
