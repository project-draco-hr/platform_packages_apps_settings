{
  try {
    mUidPolicy=mPolicyService.getUidPolicy(mUid);
    mHistory=mStatsService.getHistoryForUid(mUid,TEMPLATE_MOBILE_ALL);
  }
 catch (  RemoteException e) {
    throw new RuntimeException("problem reading network stats",e);
  }
  mChart.bindNetworkStats(mHistory);
  final long[] bounds=getHistoryBounds(mHistory);
  mChart.setVisibleRange(bounds[0],bounds[1] + DateUtils.WEEK_IN_MILLIS,bounds[1]);
  updateDetailData();
  final boolean restrictBackground=(mUidPolicy & POLICY_REJECT_PAID_BACKGROUND) != 0;
  mRestrictBackground.setChecked(restrictBackground);
  refreshPreferenceViews();
}
