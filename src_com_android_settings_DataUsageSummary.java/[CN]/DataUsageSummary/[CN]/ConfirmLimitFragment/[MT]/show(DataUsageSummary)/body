{
  if (!parent.isAdded())   return;
  final Resources res=parent.getResources();
  final CharSequence message;
  final long minLimitBytes=(long)(parent.mPolicyEditor.getPolicy(parent.mTemplate).warningBytes * 1.2f);
  final long limitBytes;
  final String currentTab=parent.mCurrentTab;
  if (TAB_3G.equals(currentTab)) {
    message=res.getString(R.string.data_usage_limit_dialog_mobile);
    limitBytes=Math.max(5 * GB_IN_BYTES,minLimitBytes);
  }
 else   if (TAB_4G.equals(currentTab)) {
    message=res.getString(R.string.data_usage_limit_dialog_mobile);
    limitBytes=Math.max(5 * GB_IN_BYTES,minLimitBytes);
  }
 else   if (TAB_MOBILE.equals(currentTab)) {
    message=res.getString(R.string.data_usage_limit_dialog_mobile);
    limitBytes=Math.max(5 * GB_IN_BYTES,minLimitBytes);
  }
 else {
    throw new IllegalArgumentException("unknown current tab: " + currentTab);
  }
  final Bundle args=new Bundle();
  args.putCharSequence(EXTRA_MESSAGE,message);
  args.putLong(EXTRA_LIMIT_BYTES,limitBytes);
  final ConfirmLimitFragment dialog=new ConfirmLimitFragment();
  dialog.setArguments(args);
  dialog.setTargetFragment(parent,0);
  dialog.show(parent.getFragmentManager(),TAG_CONFIRM_LIMIT);
}
