{
  mBinding=true;
  if (!isAdded())   return;
  final Context context=getActivity();
  final String currentTab=mTabHost.getCurrentTabTag();
  final boolean isOwner=ActivityManager.getCurrentUser() == UserHandle.USER_OWNER;
  if (currentTab == null) {
    Log.w(TAG,"no tab selected; hiding body");
    mListView.setVisibility(View.GONE);
    return;
  }
 else {
    mListView.setVisibility(View.VISIBLE);
  }
  mCurrentTab=currentTab;
  if (LOGD)   Log.d(TAG,"updateBody() with currentTab=" + currentTab);
  mDataEnabledSupported=isOwner;
  mDisableAtLimitSupported=true;
  if (TAB_MOBILE.equals(currentTab)) {
    setPreferenceTitle(mDataEnabledView,R.string.data_usage_enable_mobile);
    setPreferenceTitle(mDisableAtLimitView,R.string.data_usage_disable_mobile_limit);
    mTemplate=buildTemplateMobileAll(getActiveSubscriberId(context));
  }
 else   if (TAB_3G.equals(currentTab)) {
    setPreferenceTitle(mDataEnabledView,R.string.data_usage_enable_3g);
    setPreferenceTitle(mDisableAtLimitView,R.string.data_usage_disable_3g_limit);
    mTemplate=buildTemplateMobile3gLower(getActiveSubscriberId(context));
  }
 else   if (TAB_4G.equals(currentTab)) {
    setPreferenceTitle(mDataEnabledView,R.string.data_usage_enable_4g);
    setPreferenceTitle(mDisableAtLimitView,R.string.data_usage_disable_4g_limit);
    mTemplate=buildTemplateMobile4g(getActiveSubscriberId(context));
  }
 else   if (TAB_WIFI.equals(currentTab)) {
    mDataEnabledSupported=false;
    mDisableAtLimitSupported=false;
    mTemplate=buildTemplateWifiWildcard();
  }
 else   if (TAB_ETHERNET.equals(currentTab)) {
    mDataEnabledSupported=false;
    mDisableAtLimitSupported=false;
    mTemplate=buildTemplateEthernet();
  }
 else {
    throw new IllegalStateException("unknown tab: " + currentTab);
  }
  getLoaderManager().restartLoader(LOADER_CHART_DATA,ChartDataLoader.buildArgs(mTemplate,mCurrentApp),mChartDataCallbacks);
  getActivity().invalidateOptionsMenu();
  mBinding=false;
}
