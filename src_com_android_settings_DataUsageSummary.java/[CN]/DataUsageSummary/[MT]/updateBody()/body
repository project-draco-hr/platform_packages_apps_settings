{
  mBinding=true;
  final Context context=getActivity();
  final String currentTab=mTabHost.getCurrentTabTag();
  if (currentTab == null) {
    Log.w(TAG,"no tab selected; hiding body");
    mListView.setVisibility(View.GONE);
    return;
  }
 else {
    mListView.setVisibility(View.VISIBLE);
  }
  final boolean tabChanged=!currentTab.equals(mCurrentTab);
  mCurrentTab=currentTab;
  if (LOGD)   Log.d(TAG,"updateBody() with currentTab=" + currentTab);
  if (TAB_WIFI.equals(currentTab)) {
    mDataEnabledView.setVisibility(View.GONE);
    mDisableAtLimitView.setVisibility(View.GONE);
    mTemplate=buildTemplateWifi();
  }
 else   if (TAB_ETHERNET.equals(currentTab)) {
    mDataEnabledView.setVisibility(View.GONE);
    mDisableAtLimitView.setVisibility(View.GONE);
    mTemplate=buildTemplateEthernet();
  }
 else {
    mDataEnabledView.setVisibility(View.VISIBLE);
    mDisableAtLimitView.setVisibility(View.VISIBLE);
  }
  if (TAB_MOBILE.equals(currentTab)) {
    setPreferenceTitle(mDataEnabledView,R.string.data_usage_enable_mobile);
    setPreferenceTitle(mDisableAtLimitView,R.string.data_usage_disable_mobile_limit);
    mDataEnabled.setChecked(mConnService.getMobileDataEnabled());
    mTemplate=buildTemplateMobileAll(getActiveSubscriberId(context));
  }
 else   if (TAB_3G.equals(currentTab)) {
    setPreferenceTitle(mDataEnabledView,R.string.data_usage_enable_3g);
    setPreferenceTitle(mDisableAtLimitView,R.string.data_usage_disable_3g_limit);
    mTemplate=buildTemplateMobile3gLower(getActiveSubscriberId(context));
  }
 else   if (TAB_4G.equals(currentTab)) {
    setPreferenceTitle(mDataEnabledView,R.string.data_usage_enable_4g);
    setPreferenceTitle(mDisableAtLimitView,R.string.data_usage_disable_4g_limit);
    mTemplate=buildTemplateMobile4g(getActiveSubscriberId(context));
  }
  try {
    mHistory=mStatsService.getHistoryForNetwork(mTemplate);
  }
 catch (  RemoteException e) {
    throw new RuntimeException("problem reading network policy or stats",e);
  }
  mChart.bindNetworkStats(mHistory);
  updatePolicy(tabChanged);
  updateAppDetail();
  mListView.smoothScrollToPosition(0);
  mBinding=false;
}
