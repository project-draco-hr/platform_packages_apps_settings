{
  Dialog d;
switch (id) {
case DIALOG_DATEPICKER:
{
      final Calendar calendar=Calendar.getInstance();
      d=new DatePickerDialog(getActivity(),this,calendar.get(Calendar.YEAR),calendar.get(Calendar.MONTH),calendar.get(Calendar.DAY_OF_MONTH));
      DatePickerDialog datePicker=(DatePickerDialog)d;
      Calendar t=Calendar.getInstance();
      t.clear();
      t.set(1970,Calendar.JANUARY,1);
      datePicker.getDatePicker().setMinDate(t.getTimeInMillis());
      t.clear();
      t.set(2037,Calendar.DECEMBER,31);
      datePicker.getDatePicker().setMaxDate(t.getTimeInMillis());
      break;
    }
case DIALOG_TIMEPICKER:
{
    final Calendar calendar=Calendar.getInstance();
    d=new TimePickerDialog(getActivity(),this,calendar.get(Calendar.HOUR_OF_DAY),calendar.get(Calendar.MINUTE),DateFormat.is24HourFormat(getActivity()));
    break;
  }
default :
d=null;
break;
}
return d;
}
