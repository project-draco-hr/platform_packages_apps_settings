{
  if (key.equals(KEY_DATE_FORMAT)) {
    String format=preferences.getString(key,getResources().getString(R.string.default_date_format));
    Settings.System.putString(getContentResolver(),Settings.System.DATE_FORMAT,format);
    updateTimeAndDateDisplay(getActivity());
  }
 else   if (key.equals(KEY_AUTO_TIME)) {
    boolean autoEnabled=preferences.getBoolean(key,true);
    Settings.Global.putInt(getContentResolver(),Settings.Global.AUTO_TIME,autoEnabled ? 1 : 0);
    mTimePref.setEnabled(!autoEnabled);
    mDatePref.setEnabled(!autoEnabled);
  }
 else   if (key.equals(KEY_AUTO_TIME_ZONE)) {
    boolean autoZoneEnabled=preferences.getBoolean(key,true);
    Settings.Global.putInt(getContentResolver(),Settings.Global.AUTO_TIME_ZONE,autoZoneEnabled ? 1 : 0);
    mTimeZone.setEnabled(!autoZoneEnabled);
  }
}
