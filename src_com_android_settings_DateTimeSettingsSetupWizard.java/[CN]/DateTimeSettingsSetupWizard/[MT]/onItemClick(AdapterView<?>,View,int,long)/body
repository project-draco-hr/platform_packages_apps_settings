{
  final TimeZone tz=ZonePicker.obtainTimeZoneFromItem(parent.getItemAtPosition(position));
  mSelectedTimeZone=tz;
  final Calendar now=Calendar.getInstance(tz);
  mTimeZoneButton.setText(tz.getDisplayName());
  mDatePicker.updateDate(now.get(Calendar.YEAR),now.get(Calendar.MONTH),now.get(Calendar.DAY_OF_MONTH));
  mTimePicker.setCurrentHour(now.get(Calendar.HOUR_OF_DAY));
  mTimePicker.setCurrentMinute(now.get(Calendar.MINUTE));
  mTimeZonePopup.dismiss();
}
