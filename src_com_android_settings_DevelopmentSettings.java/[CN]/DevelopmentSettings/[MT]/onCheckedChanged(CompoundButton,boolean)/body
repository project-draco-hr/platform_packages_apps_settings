{
  if (buttonView == mEnabledSwitch) {
    if (isChecked != mLastEnabledState) {
      if (isChecked) {
        mDialogClicked=false;
        if (mEnableDialog != null)         dismissDialogs();
        mEnableDialog=new AlertDialog.Builder(getActivity()).setMessage(getActivity().getResources().getString(R.string.dev_settings_warning_message)).setTitle(R.string.dev_settings_warning_title).setIconAttribute(android.R.attr.alertDialogIcon).setPositiveButton(android.R.string.yes,this).setNegativeButton(android.R.string.no,this).show();
        mEnableDialog.setOnDismissListener(this);
      }
 else {
        resetDangerousOptions();
        Settings.Secure.putInt(getActivity().getContentResolver(),Settings.Secure.DEVELOPMENT_SETTINGS_ENABLED,0);
        mLastEnabledState=isChecked;
        setPrefsEnabledState(mLastEnabledState);
      }
    }
  }
}
