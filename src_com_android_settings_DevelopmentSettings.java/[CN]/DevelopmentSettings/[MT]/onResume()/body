{
  super.onResume();
  if (mUnavailable) {
    TextView emptyView=(TextView)getView().findViewById(android.R.id.empty);
    getListView().setEmptyView(emptyView);
    if (emptyView != null) {
      emptyView.setText(R.string.development_settings_not_available);
    }
    return;
  }
  if (mDpm.getMaximumTimeToLock(null) > 0) {
    mDisabledPrefs.add(mKeepScreenOn);
  }
 else {
    mDisabledPrefs.remove(mKeepScreenOn);
  }
  final ContentResolver cr=getActivity().getContentResolver();
  mLastEnabledState=Settings.Global.getInt(cr,Settings.Global.DEVELOPMENT_SETTINGS_ENABLED,0) != 0;
  mSwitchBar.setSwitchChecked(mLastEnabledState);
  setPrefsEnabledState(mLastEnabledState);
  if (mHaveDebugSettings && !mLastEnabledState) {
    Settings.Global.putInt(getActivity().getContentResolver(),Settings.Global.DEVELOPMENT_SETTINGS_ENABLED,1);
    mLastEnabledState=true;
    mSwitchBar.setSwitchChecked(mLastEnabledState);
    setPrefsEnabledState(mLastEnabledState);
  }
  mSwitchBar.addOnSwitchChangeListener(this);
  mSwitchBar.show();
}
