{
  super.onResume();
  if (mDpm.getMaximumTimeToLock(null) > 0) {
    mDisabledPrefs.add(mKeepScreenOn);
  }
 else {
    mDisabledPrefs.remove(mKeepScreenOn);
  }
  final ContentResolver cr=getActivity().getContentResolver();
  mLastEnabledState=Settings.Global.getInt(cr,Settings.Global.DEVELOPMENT_SETTINGS_ENABLED,0) != 0;
  mEnabledSwitch.setChecked(mLastEnabledState);
  setPrefsEnabledState(mLastEnabledState);
  if (mHaveDebugSettings && !mLastEnabledState) {
    Settings.Global.putInt(getActivity().getContentResolver(),Settings.Global.DEVELOPMENT_SETTINGS_ENABLED,1);
    mLastEnabledState=true;
    setPrefsEnabledState(mLastEnabledState);
  }
}
