{
  String strValue=SystemProperties.get(Trace.PROPERTY_TRACE_TAG_ENABLEFLAGS);
  long flags=SystemProperties.getLong(Trace.PROPERTY_TRACE_TAG_ENABLEFLAGS,0);
  String[] values=mEnableTracesPref.getEntryValues();
  int numSet=0;
  for (int i=Trace.TRACE_FLAGS_START_BIT; i < values.length; i++) {
    boolean set=(flags & (1 << i)) != 0;
    mEnableTracesPref.setValue(i - Trace.TRACE_FLAGS_START_BIT,set);
    if (set) {
      numSet++;
    }
  }
  if (numSet == 0) {
    mEnableTracesPref.setSummary(R.string.enable_traces_summary_none);
  }
 else   if (numSet == values.length) {
    mHaveDebugSettings=true;
    mEnableTracesPref.setSummary(R.string.enable_traces_summary_all);
  }
 else {
    mHaveDebugSettings=true;
    mEnableTracesPref.setSummary(getString(R.string.enable_traces_summary_num,numSet));
  }
}
