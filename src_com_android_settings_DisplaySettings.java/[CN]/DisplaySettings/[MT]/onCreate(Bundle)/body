{
  super.onCreate(savedInstanceState);
  ContentResolver resolver=getActivity().getContentResolver();
  addPreferencesFromResource(R.xml.display_settings);
  mAccelerometer=(CheckBoxPreference)findPreference(KEY_ACCELEROMETER);
  mAccelerometer.setPersistent(false);
  mScreenSaverPreference=findPreference(KEY_SCREEN_SAVER);
  mScreenTimeoutPreference=(ListPreference)findPreference(KEY_SCREEN_TIMEOUT);
  final long currentTimeout=Settings.System.getLong(resolver,SCREEN_OFF_TIMEOUT,FALLBACK_SCREEN_TIMEOUT_VALUE);
  mScreenTimeoutPreference.setValue(String.valueOf(currentTimeout));
  mScreenTimeoutPreference.setOnPreferenceChangeListener(this);
  disableUnusableTimeouts(mScreenTimeoutPreference);
  updateTimeoutPreferenceDescription(currentTimeout);
  mFontSizePref=(ListPreference)findPreference(KEY_FONT_SIZE);
  mFontSizePref.setOnPreferenceChangeListener(this);
  mNotificationPulse=(CheckBoxPreference)findPreference(KEY_NOTIFICATION_PULSE);
  if (mNotificationPulse != null && getResources().getBoolean(com.android.internal.R.bool.config_intrusiveNotificationLed) == false) {
    getPreferenceScreen().removePreference(mNotificationPulse);
  }
 else {
    try {
      mNotificationPulse.setChecked(Settings.System.getInt(resolver,Settings.System.NOTIFICATION_LIGHT_PULSE) == 1);
      mNotificationPulse.setOnPreferenceChangeListener(this);
    }
 catch (    SettingNotFoundException snfe) {
      Log.e(TAG,Settings.System.NOTIFICATION_LIGHT_PULSE + " not found");
    }
  }
}
