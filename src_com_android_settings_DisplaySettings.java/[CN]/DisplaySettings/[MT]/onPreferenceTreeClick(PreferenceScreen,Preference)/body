{
  if (preference == mRotationLock) {
    try {
      IWindowManager wm=IWindowManager.Stub.asInterface(ServiceManager.getService(Context.WINDOW_SERVICE));
      if (!mRotationLock.isChecked()) {
        wm.thawRotation();
      }
 else {
        wm.freezeRotation(Surface.ROTATION_0);
      }
    }
 catch (    RemoteException exc) {
      Log.w(TAG,"Unable to save auto-rotate setting");
    }
  }
 else   if (preference == mNotificationPulse) {
    boolean value=mNotificationPulse.isChecked();
    Settings.System.putInt(getContentResolver(),Settings.System.NOTIFICATION_LIGHT_PULSE,value ? 1 : 0);
    return true;
  }
  return super.onPreferenceTreeClick(preferenceScreen,preference);
}
