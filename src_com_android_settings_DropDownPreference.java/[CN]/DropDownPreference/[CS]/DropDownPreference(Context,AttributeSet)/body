{
  super(context,attrs);
  mContext=context;
  mAdapter=new ArrayAdapter<String>(mContext,android.R.layout.simple_spinner_dropdown_item);
  mSpinner=new Spinner(mContext);
  mSpinner.setVisibility(View.INVISIBLE);
  mSpinner.setAdapter(mAdapter);
  mSpinner.setOnItemSelectedListener(new OnItemSelectedListener(){
    @Override public void onItemSelected(    AdapterView<?> parent,    View v,    int position,    long id){
      if (position >= 0) {
        String value=getEntryValues()[position].toString();
        if (!value.equals(getValue()) && callChangeListener(value)) {
          setValue(value);
        }
      }
    }
    @Override public void onNothingSelected(    AdapterView<?> parent){
    }
  }
);
  setPersistent(false);
  setSummary("%s");
  updateEntries();
}
