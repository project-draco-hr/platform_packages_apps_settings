{
  ContentResolver resolver=context.getContentResolver();
  Cursor c=null;
  String stringValue=null;
  try {
    c=resolver.query(GOOGLE_SETTINGS_CONTENT_URI,new String[]{VALUE},NAME + "=?",new String[]{USE_LOCATION_FOR_SERVICES},null);
    if (c != null && c.moveToNext()) {
      stringValue=c.getString(0);
    }
  }
 catch (  RuntimeException e) {
    Log.w(TAG,"Failed to get 'Use My Location' setting",e);
  }
 finally {
    if (c != null) {
      c.close();
    }
  }
  if (stringValue == null) {
    return USE_LOCATION_FOR_SERVICES_NOT_SET;
  }
  int value;
  try {
    value=Integer.parseInt(stringValue);
  }
 catch (  NumberFormatException nfe) {
    value=USE_LOCATION_FOR_SERVICES_NOT_SET;
  }
  return value;
}
