{
  super.onCreate(savedInstanceState);
  addPreferencesFromResource(R.xml.sim_lock_settings);
  mPinDialog=(EditPinPreference)findPreference(PIN_DIALOG);
  mPinToggle=(CheckBoxPreference)findPreference(PIN_TOGGLE);
  if (savedInstanceState != null && savedInstanceState.containsKey(DIALOG_STATE)) {
    mDialogState=savedInstanceState.getInt(DIALOG_STATE);
    mPin=savedInstanceState.getString(DIALOG_PIN);
    mError=savedInstanceState.getString(DIALOG_ERROR);
    mToState=savedInstanceState.getBoolean(ENABLE_TO_STATE);
  }
  mPinDialog.setOnPinEnteredListener(this);
  getPreferenceScreen().setPersistent(false);
  mPhone=PhoneFactory.getDefaultPhone();
  mRes=getResources();
}
