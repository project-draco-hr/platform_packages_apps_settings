{
  super.onCreate(icicle);
  mPm=getPackageManager();
  Intent intent=getIntent();
  final String packageName=intent.getStringExtra(ManageApplications.APP_PKG_NAME);
  mComputingStr=getText(R.string.computing_size);
  CharSequence totalSizeStr, appSizeStr, dataSizeStr;
  totalSizeStr=appSizeStr=dataSizeStr=mComputingStr;
  if (localLOGV)   Log.i(TAG,"Have to compute package sizes");
  mSizeObserver=new PkgSizeObserver();
  try {
    mAppInfo=mPm.getApplicationInfo(packageName,PackageManager.GET_UNINSTALLED_PACKAGES);
  }
 catch (  NameNotFoundException e) {
    Log.e(TAG,"Exception when retrieving package:" + packageName,e);
    showDialogInner(DLG_APP_NOT_FOUND);
    return;
  }
  setContentView(R.layout.installed_app_details);
  mTotalSize=(TextView)findViewById(R.id.total_size_text);
  mTotalSize.setText(totalSizeStr);
  mAppSize=(TextView)findViewById(R.id.application_size_text);
  mAppSize.setText(appSizeStr);
  mDataSize=(TextView)findViewById(R.id.data_size_text);
  mDataSize.setText(dataSizeStr);
  View btnPanel=findViewById(R.id.control_buttons_panel);
  mForceStopButton=(Button)btnPanel.findViewById(R.id.left_button);
  mForceStopButton.setText(R.string.force_stop);
  mUninstallButton=(Button)btnPanel.findViewById(R.id.right_button);
  mForceStopButton.setEnabled(false);
  initControlButtons();
  View data_buttons_panel=findViewById(R.id.data_buttons_panel);
  mClearDataButton=(Button)data_buttons_panel.findViewById(R.id.left_button);
  mMoveAppButton=(Button)data_buttons_panel.findViewById(R.id.right_button);
  mCacheSize=(TextView)findViewById(R.id.cache_size_text);
  mCacheSize.setText(mComputingStr);
  mClearCacheButton=(Button)findViewById(R.id.clear_cache_button);
  mActivitiesButton=(Button)findViewById(R.id.clear_activities_button);
  List<ComponentName> prefActList=new ArrayList<ComponentName>();
  List<IntentFilter> intentList=new ArrayList<IntentFilter>();
  mPm.getPreferredActivities(intentList,prefActList,packageName);
  if (localLOGV)   Log.i(TAG,"Have " + prefActList.size() + " number of activities in prefered list");
  TextView autoLaunchView=(TextView)findViewById(R.id.auto_launch);
  if (prefActList.size() <= 0) {
    autoLaunchView.setText(R.string.auto_launch_disable_text);
    mActivitiesButton.setEnabled(false);
  }
 else {
    autoLaunchView.setText(R.string.auto_launch_enable_text);
    mActivitiesButton.setOnClickListener(this);
  }
  LinearLayout permsView=(LinearLayout)findViewById(R.id.permissions_section);
  AppSecurityPermissions asp=new AppSecurityPermissions(this,packageName);
  if (asp.getPermissionCount() > 0) {
    permsView.setVisibility(View.VISIBLE);
    LinearLayout securityList=(LinearLayout)permsView.findViewById(R.id.security_settings_list);
    securityList.addView(asp.getPermissionsView());
  }
 else {
    permsView.setVisibility(View.GONE);
  }
}
