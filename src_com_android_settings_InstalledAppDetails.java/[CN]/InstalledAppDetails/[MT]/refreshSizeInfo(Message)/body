{
  boolean changed=false;
  Intent intent=new Intent();
  PackageStats newPs=msg.getData().getParcelable(ATTR_PACKAGE_STATS);
  long newTot=newPs.cacheSize + newPs.codeSize + newPs.dataSize;
  long oldTot=mSizeInfo.cacheSize + mSizeInfo.codeSize + mSizeInfo.dataSize;
  if (newTot != oldTot) {
    mTotalSize.setText(getSizeStr(newTot));
    changed=true;
  }
  if (newPs.codeSize != mSizeInfo.codeSize) {
    mAppSize.setText(getSizeStr(newPs.codeSize));
    changed=true;
  }
  if ((newPs.dataSize != mSizeInfo.dataSize) || (newPs.cacheSize != mSizeInfo.cacheSize)) {
    mDataSize.setText(getSizeStr(newPs.dataSize + newPs.cacheSize));
    changed=true;
  }
  if (changed) {
    mUninstallButton.setText(R.string.clear_user_data_text);
    mSizeInfo=newPs;
    intent.putExtra(ManageApplications.APP_PKG_SIZE,mSizeInfo);
  }
  intent.putExtra(ManageApplications.APP_CHG,changed);
  setResult(ManageApplications.RESULT_OK,intent);
}
