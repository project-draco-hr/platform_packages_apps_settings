{
  if (pkgName == null) {
    Log.w(TAG,"Adding null pkg to List Adapter");
    return;
  }
  boolean notInList=true;
  int newIdx=getIndex(pkgName);
  if (newIdx != -1) {
    notInList=false;
    if (mAppPropMap.get(pkgName) != null) {
      Log.i(TAG,"Package:" + pkgName + " already added");
      return;
    }
  }
  ApplicationInfo info=null;
  try {
    info=mPm.getApplicationInfo(pkgName,0);
  }
 catch (  NameNotFoundException e) {
    Log.w(TAG,"Ignoring non-existent package:" + pkgName);
    return;
  }
  if (info == null) {
    Log.i(TAG,"Null ApplicationInfo for package:" + pkgName);
    return;
  }
  mAppPropMap.put(pkgName,new AppInfo(pkgName,newIdx,info.loadLabel(mPm),info.loadIcon(mPm),ps));
  if (notInList && (shouldBeInList(mFilterApps,info))) {
    newIdx=Collections.binarySearch(mAppLocalList,info,getAppComparator(mSortOrder));
    if (newIdx >= 0) {
      Log.i(TAG,"Strange. Package:" + pkgName + " is not new");
      return;
    }
    newIdx=-newIdx - 1;
    mAppLocalList.add(newIdx,info);
    adjustIndex();
    notifyDataSetChanged();
  }
}
