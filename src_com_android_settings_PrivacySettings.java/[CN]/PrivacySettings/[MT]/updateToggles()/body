{
  ContentResolver res=getContentResolver();
  boolean backupEnabled=false;
  Intent configIntent=null;
  String configSummary=null;
  try {
    backupEnabled=mBackupManager.isBackupEnabled();
    String transport=mBackupManager.getCurrentTransport();
    configIntent=mBackupManager.getConfigurationIntent(transport);
    configSummary=mBackupManager.getDestinationString(transport);
  }
 catch (  RemoteException e) {
    mBackup.setEnabled(false);
  }
  mBackup.setChecked(backupEnabled);
  mAutoRestore.setChecked(Settings.Secure.getInt(res,Settings.Secure.BACKUP_AUTO_RESTORE,1) == 1);
  mAutoRestore.setEnabled(backupEnabled);
  final boolean configureEnabled=(configIntent != null) && backupEnabled;
  mConfigure.setEnabled(configureEnabled);
  mConfigure.setIntent(configIntent);
  setConfigureSummary(configSummary);
  updatePasswordSummary();
}
