{
  super.onBindView(view);
  final TextView textView=(TextView)view.findViewById(R.id.scanning_text);
  final View progressBar=view.findViewById(R.id.scanning_progress);
  textView.setText(mProgress ? R.string.progress_scanning : R.string.progress_tap_to_pair);
  boolean noDeviceFound=(getPreferenceCount() == 0 || (getPreferenceCount() == 1 && getPreference(0) == mNoDeviceFoundPreference));
  textView.setVisibility(noDeviceFound ? View.INVISIBLE : View.VISIBLE);
  progressBar.setVisibility(mProgress ? View.VISIBLE : View.INVISIBLE);
  if (mProgress || !noDeviceFound) {
    if (mNoDeviceFoundAdded) {
      removePreference(mNoDeviceFoundPreference);
      mNoDeviceFoundAdded=false;
    }
  }
 else {
    if (!mNoDeviceFoundAdded) {
      if (mNoDeviceFoundPreference == null) {
        mNoDeviceFoundPreference=new Preference(getContext());
        mNoDeviceFoundPreference.setLayoutResource(R.layout.preference_empty_list);
        mNoDeviceFoundPreference.setTitle(R.string.bluetooth_no_devices_found);
        mNoDeviceFoundPreference.setSelectable(false);
      }
      addPreference(mNoDeviceFoundPreference);
      mNoDeviceFoundAdded=true;
    }
  }
}
