{
  StringBuilder sb=new StringBuilder("========DATA=======\n");
  List<DataConnection> dcs=phone.getCurrentDataConnectionList();
  for (  DataConnection dc : dcs) {
    sb.append("    State: ").append(dc.getState().toString()).append("\n");
    if (dc.getState().isActive()) {
      long timeElapsed=(System.currentTimeMillis() - dc.getConnectionTime()) / 1000;
      sb.append("    connected at ").append(DateUtils.timeString(dc.getConnectionTime())).append(" and elapsed ").append(DateUtils.formatElapsedTime(timeElapsed));
      if (dc instanceof PdpConnection) {
        PdpConnection pdp=(PdpConnection)dc;
        sb.append("\n    to ").append(pdp.getApn().toString());
      }
      sb.append("\ninterface: ").append(phone.getInterfaceName(phone.getActiveApnTypes()[0])).append("\naddress: ").append(phone.getIpAddress(phone.getActiveApnTypes()[0])).append("\ngateway: ").append(phone.getGateway(phone.getActiveApnTypes()[0]));
      String[] dns=phone.getDnsServers(phone.getActiveApnTypes()[0]);
      if (dns != null) {
        sb.append("\ndns: ").append(dns[0]).append(", ").append(dns[1]);
      }
    }
 else     if (dc.getState().isInactive()) {
      sb.append("    disconnected with last try at ").append(DateUtils.timeString(dc.getLastFailTime())).append("\n    fail because ").append(dc.getLastFailCause().toString());
    }
 else {
      if (dc instanceof PdpConnection) {
        PdpConnection pdp=(PdpConnection)dc;
        sb.append("    is connecting to ").append(pdp.getApn().toString());
      }
 else {
        sb.append("    is connecting");
      }
    }
    sb.append("\n===================");
  }
  disconnects.setText(sb.toString());
}
