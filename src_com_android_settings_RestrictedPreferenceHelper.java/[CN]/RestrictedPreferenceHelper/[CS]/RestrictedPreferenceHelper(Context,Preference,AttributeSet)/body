{
  mContext=context;
  mPreference=preference;
  mRestrictedPadlock=RestrictedLockUtils.getRestrictedPadlock(mContext);
  mRestrictedPadlockPadding=mContext.getResources().getDimensionPixelSize(R.dimen.restricted_lock_icon_padding);
  mAttrUserRestriction=attrs.getAttributeValue(R.styleable.RestrictedPreference_userRestriction);
  final TypedArray attributes=context.obtainStyledAttributes(attrs,R.styleable.RestrictedPreference);
  final TypedValue userRestriction=attributes.peekValue(R.styleable.RestrictedPreference_userRestriction);
  CharSequence data=null;
  if (userRestriction != null && userRestriction.type == TypedValue.TYPE_STRING) {
    if (userRestriction.resourceId != 0) {
      data=context.getText(userRestriction.resourceId);
    }
 else {
      data=userRestriction.string;
    }
  }
  mAttrUserRestriction=data == null ? null : data.toString();
}
