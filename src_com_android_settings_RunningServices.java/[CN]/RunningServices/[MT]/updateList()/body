{
  if (mState.update(this,mAm)) {
    ((ServiceListAdapter)(getListView().getAdapter())).notifyDataSetChanged();
  }
  if (mLastNumBackgroundProcesses != mState.mNumBackgroundProcesses || mLastBackgroundProcessMemory != mState.mBackgroundProcessMemory) {
    mLastNumBackgroundProcesses=mState.mNumBackgroundProcesses;
    mLastBackgroundProcessMemory=mState.mBackgroundProcessMemory;
    String sizeStr=Formatter.formatFileSize(this,mLastBackgroundProcessMemory);
    mBackgroundProcessText.setText(getResources().getString(R.string.service_background_processes,mLastNumBackgroundProcesses,sizeStr));
  }
  if (mLastNumForegroundProcesses != mState.mNumForegroundProcesses || mLastForegroundProcessMemory != mState.mForegroundProcessMemory) {
    mLastNumForegroundProcesses=mState.mNumForegroundProcesses;
    mLastForegroundProcessMemory=mState.mForegroundProcessMemory;
    String sizeStr=Formatter.formatFileSize(this,mLastForegroundProcessMemory);
    mForegroundProcessText.setText(getResources().getString(R.string.service_foreground_processes,mLastNumForegroundProcesses,sizeStr));
  }
}
