{
  mAccessCheckBox.setChecked(state == KeyStore.NO_ERROR);
  boolean encFSEnabled=SystemProperties.getBoolean(PROPERTY_EFS_ENABLED,false);
  mResetButton.setEnabled((!encFSEnabled) && (state != KeyStore.UNINITIALIZED));
  mAccessCheckBox.setEnabled((state != KeyStore.UNINITIALIZED) && (!encFSEnabled));
  mEncryptedFSEnabled.setChecked(encFSEnabled);
  if (mState == state) {
    return;
  }
 else   if (state == KeyStore.NO_ERROR) {
    Toast.makeText(SecuritySettings.this,R.string.credentials_enabled,Toast.LENGTH_SHORT).show();
  }
 else   if (state == KeyStore.UNINITIALIZED) {
    Toast.makeText(SecuritySettings.this,R.string.credentials_erased,Toast.LENGTH_SHORT).show();
  }
 else   if (state == KeyStore.LOCKED) {
    Toast.makeText(SecuritySettings.this,R.string.credentials_disabled,Toast.LENGTH_SHORT).show();
  }
  mState=state;
}
