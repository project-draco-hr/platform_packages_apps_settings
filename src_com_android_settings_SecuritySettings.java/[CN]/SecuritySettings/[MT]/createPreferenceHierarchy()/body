{
  PreferenceScreen root=this.getPreferenceScreen();
  PreferenceCategory inlinePrefCat=new PreferenceCategory(this);
  inlinePrefCat.setTitle(R.string.lock_settings_title);
  root.addPreference(inlinePrefCat);
  mLockEnabled=new LockEnabledPref(this);
  mLockEnabled.setTitle(R.string.lockpattern_settings_enable_title);
  mLockEnabled.setSummary(R.string.lockpattern_settings_enable_summary);
  mLockEnabled.setKey(KEY_LOCK_ENABLED);
  inlinePrefCat.addPreference(mLockEnabled);
  mVisiblePattern=new CheckBoxPreference(this);
  mVisiblePattern.setKey(KEY_VISIBLE_PATTERN);
  mVisiblePattern.setTitle(R.string.lockpattern_settings_enable_visible_pattern_title);
  inlinePrefCat.addPreference(mVisiblePattern);
  mTactileFeedback=new CheckBoxPreference(this);
  mTactileFeedback.setKey(KEY_TACTILE_FEEDBACK_ENABLED);
  mTactileFeedback.setTitle(R.string.lockpattern_settings_enable_tactile_feedback_title);
  inlinePrefCat.addPreference(mTactileFeedback);
  Intent intent=new Intent();
  intent.setClassName("com.android.settings","com.android.settings.ChooseLockPatternTutorial");
  mChoosePattern=getPreferenceManager().createPreferenceScreen(this);
  mChoosePattern.setIntent(intent);
  inlinePrefCat.addPreference(mChoosePattern);
  int activePhoneType=TelephonyManager.getDefault().getPhoneType();
  if (TelephonyManager.PHONE_TYPE_CDMA != activePhoneType) {
    PreferenceScreen simLockPreferences=getPreferenceManager().createPreferenceScreen(this);
    simLockPreferences.setTitle(R.string.sim_lock_settings_category);
    intent=new Intent();
    intent.setClassName("com.android.settings","com.android.settings.IccLockSettings");
    simLockPreferences.setIntent(intent);
    PreferenceCategory simLockCat=new PreferenceCategory(this);
    simLockCat.setTitle(R.string.sim_lock_settings_title);
    root.addPreference(simLockCat);
    simLockCat.addPreference(simLockPreferences);
  }
  PreferenceCategory passwordsCat=new PreferenceCategory(this);
  passwordsCat.setTitle(R.string.security_passwords_title);
  root.addPreference(passwordsCat);
  CheckBoxPreference showPassword=mShowPassword=new CheckBoxPreference(this);
  showPassword.setKey("show_password");
  showPassword.setTitle(R.string.show_password);
  showPassword.setSummary(R.string.show_password_summary);
  showPassword.setPersistent(false);
  passwordsCat.addPreference(showPassword);
  PreferenceCategory credStoreCat=new PreferenceCategory(this);
  credStoreCat.setTitle(R.string.cstor_settings_category);
  root.addPreference(credStoreCat);
  credStoreCat.addPreference(mCstorHelper.createAccessCheckBox());
  credStoreCat.addPreference(mCstorHelper.createCertInstallPreference());
  credStoreCat.addPreference(mCstorHelper.createSetPasswordPreference());
  credStoreCat.addPreference(mCstorHelper.createResetPreference());
  return root;
}
