{
  final String key=preference.getKey();
  if (KEY_LOCK_ENABLED.equals(key)) {
    mLockPatternUtils.setLockPatternEnabled(isToggled(preference));
  }
 else   if (KEY_VISIBLE_PATTERN.equals(key)) {
    mLockPatternUtils.setVisiblePatternEnabled(isToggled(preference));
  }
 else   if (KEY_TACTILE_FEEDBACK_ENABLED.equals(key)) {
    mLockPatternUtils.setTactileFeedbackEnabled(isToggled(preference));
  }
 else   if (preference == mShowPassword) {
    Settings.System.putInt(getContentResolver(),Settings.System.TEXT_SHOW_PASSWORD,mShowPassword.isChecked() ? 1 : 0);
  }
 else   if (preference == mNetwork) {
    if (mNetwork.isChecked()) {
      mOkClicked=false;
      new AlertDialog.Builder(this).setMessage(getResources().getString(R.string.location_warning_message)).setTitle(R.string.location_warning_title).setIcon(android.R.drawable.ic_dialog_alert).setPositiveButton(R.string.agree,this).setNegativeButton(R.string.disagree,this).show().setOnDismissListener(this);
    }
 else {
      updateProviders();
    }
  }
 else   if (preference == mGps) {
    updateProviders();
  }
  return false;
}
