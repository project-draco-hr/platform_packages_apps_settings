{
  super.onResume();
  mDevelopmentPreferencesListener=new SharedPreferences.OnSharedPreferenceChangeListener(){
    @Override public void onSharedPreferenceChanged(    SharedPreferences sharedPreferences,    String key){
      invalidateHeaders();
    }
  }
;
  mDevelopmentPreferences.registerOnSharedPreferenceChangeListener(mDevelopmentPreferencesListener);
  ListAdapter listAdapter=getListAdapter();
  if (listAdapter instanceof HeaderAdapter) {
    ((HeaderAdapter)listAdapter).resume();
  }
  invalidateHeaders();
  registerReceiver(mBatteryInfoReceiver,new IntentFilter(Intent.ACTION_BATTERY_CHANGED));
}
