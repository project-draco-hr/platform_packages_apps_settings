{
  if (name.equals(getPackageName() + "_preferences")) {
    String tag=getClass().getName();
    if (getIntent() != null && getIntent().hasExtra(EXTRA_SHOW_FRAGMENT)) {
      tag=getIntent().getStringExtra(EXTRA_SHOW_FRAGMENT);
    }
    if (tag.startsWith("com.android.settings.")) {
      tag=tag.replace("com.android.settings.","");
    }
    return new SharedPreferencesLogger(this,tag);
  }
  return super.getSharedPreferences(name,mode);
}
