{
  if (header == null) {
    return;
  }
  if (header != null && mCurrentHeader != null && header.id == mCurrentHeader.id && header.id != R.id.account_add) {
    getFragmentManager().popBackStack(BACK_STACK_PREFS,FragmentManager.POP_BACK_STACK_INCLUSIVE);
  }
 else {
    if (header.fragment != null) {
      mTitleStack.clear();
      switchToHeaderInner(header.fragment,header.fragmentArguments,validate);
      setSelectedHeader(header);
      final TitlePair pair=new TitlePair(0,getHeaderTitle(header));
      mTitleStack.add(pair);
      setTitle(pair.second);
    }
 else     if (header.intent != null) {
      setSelectedHeader(header);
      mTitleStack.clear();
      startActivity(header.intent);
    }
 else {
      throw new IllegalStateException("Can't switch to header that has no Fragment nor Intent");
    }
  }
}
