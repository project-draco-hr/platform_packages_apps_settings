{
  if (mCurHeader != header) {
    if (header.fragment == null) {
      throw new IllegalStateException("can't switch to header that has no fragment");
    }
    getFragmentManager().popBackStackImmediate(BACK_STACK_PREFS,FragmentManager.POP_BACK_STACK_INCLUSIVE);
    mTitleStack.clear();
    switchToHeaderInner(header.fragment,header.fragmentArguments,validate,!initial);
    setSelectedHeader(header);
    final CharSequence title;
    if (header.fragment.equals("com.android.settings.dashboard.DashboardSummary")) {
      title=getResources().getString(R.string.settings_label);
    }
 else {
      title=header.getTitle(getResources());
    }
    final TitlePair pair=new TitlePair(0,title);
    mTitleStack.add(pair);
    setTitle(title);
  }
}
