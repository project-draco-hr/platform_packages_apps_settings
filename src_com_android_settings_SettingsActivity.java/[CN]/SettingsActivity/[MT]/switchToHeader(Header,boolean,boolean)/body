{
  if (header == null) {
    return;
  }
  if (header != null && mCurrentHeader != null && header.id == mCurrentHeader.id && header.id != R.id.account_add && !header.fragment.equals(ManageAccountsSettings.class.getName())) {
    getFragmentManager().popBackStack(BACK_STACK_PREFS,FragmentManager.POP_BACK_STACK_INCLUSIVE);
  }
 else {
    if (header.fragment != null) {
      switchToHeaderInner(header.fragment,header.fragmentArguments,validate,!initial,getHeaderTitle(header));
      setSelectedHeader(header);
    }
 else     if (header.intent != null) {
      setSelectedHeader(header);
      startActivity(header.intent);
    }
 else {
      throw new IllegalStateException("Can't switch to header that has no Fragment nor Intent");
    }
  }
}
