{
  if (header == null) {
    return;
  }
  if (mCurrentHeader == null || header.id != mCurrentHeader.id) {
    if (header.fragment != null) {
      boolean addToBackStack;
      if (initial) {
        addToBackStack=false;
      }
 else {
        if (header.id != mInitialHeader.id) {
          addToBackStack=true;
        }
 else {
          addToBackStack=(mTopLevelHeaderId > 0);
        }
      }
      switchToHeaderInner(header.fragment,header.fragmentArguments,validate,addToBackStack,getHeaderTitle(header));
      setSelectedHeader(header);
    }
 else     if (header.intent != null) {
      setSelectedHeader(header);
      startActivity(header.intent);
    }
 else {
      throw new IllegalStateException("Can't switch to header that has no Fragment nor Intent");
    }
  }
}
