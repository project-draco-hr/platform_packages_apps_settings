{
  SharedPreferences sp=getSharedPreferences(HomeSettings.HOME_PREFS,Context.MODE_PRIVATE);
  if (sp.getBoolean(HomeSettings.HOME_PREFS_DO_SHOW,false)) {
    return true;
  }
  try {
    final ArrayList<ResolveInfo> homeApps=new ArrayList<ResolveInfo>();
    getPackageManager().getHomeActivities(homeApps);
    if (homeApps.size() < 2) {
      if (sShowNoHomeNotice) {
        sShowNoHomeNotice=false;
        NoHomeDialogFragment.show(this);
      }
      return false;
    }
 else {
      if (header.fragmentArguments == null) {
        header.fragmentArguments=new Bundle();
      }
      header.fragmentArguments.putBoolean(HomeSettings.HOME_SHOW_NOTICE,true);
    }
  }
 catch (  Exception e) {
    Log.w(LOG_TAG,"Problem looking up home activity!",e);
  }
  sp.edit().putBoolean(HomeSettings.HOME_PREFS_DO_SHOW,true).apply();
  return true;
}
