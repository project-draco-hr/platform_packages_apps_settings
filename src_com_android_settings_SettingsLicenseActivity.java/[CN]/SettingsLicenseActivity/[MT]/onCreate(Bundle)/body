{
  super.onCreate(savedInstanceState);
  String fileName=SystemProperties.get(PROPERTY_LICENSE_PATH,DEFAULT_LICENSE_PATH);
  if (TextUtils.isEmpty(fileName)) {
    Log.e(TAG,"The system property for the license file is empty.");
    showErrorAndFinish();
    return;
  }
  setVisible(false);
  mWebView=new WebView(this);
  mHandler=new Handler(){
    @Override public void handleMessage(    Message msg){
      super.handleMessage(msg);
      if (msg.what == LicenseFileLoader.STATUS_OK) {
        String text=(String)msg.obj;
        showPageOfText(text);
      }
 else {
        showErrorAndFinish();
      }
    }
  }
;
  CharSequence title=getText(R.string.settings_license_activity_title);
  CharSequence msg=getText(R.string.settings_license_activity_loading);
  ProgressDialog pd=ProgressDialog.show(this,title,msg,true,false);
  pd.setProgressStyle(ProgressDialog.STYLE_SPINNER);
  mSpinnerDlg=pd;
  Thread thread=new Thread(new LicenseFileLoader(fileName,mHandler));
  thread.start();
}
