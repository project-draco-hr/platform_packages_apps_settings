{
  final ListAdapter adapter=getListView().getAdapter();
  if (adapter != null) {
    final int count=adapter.getCount();
    for (int n=0; n < count; n++) {
      Object item=adapter.getItem(n);
      if (item instanceof Preference) {
        Preference preference=(Preference)item;
        final String preferenceKey=preference.getKey();
        if (preferenceKey != null && preferenceKey.equals(key)) {
          return n;
        }
      }
    }
  }
  return -1;
}
