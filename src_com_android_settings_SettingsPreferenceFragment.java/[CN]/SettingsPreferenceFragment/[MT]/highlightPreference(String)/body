{
  final Drawable highlight=getHighlightDrawable();
  final int position=canUseListViewForHighLighting(key);
  if (position >= 0) {
    final ListView listView=getListView();
    final ListAdapter adapter=listView.getAdapter();
    ((PreferenceGroupAdapter)adapter).setHighlightedDrawable(highlight);
    ((PreferenceGroupAdapter)adapter).setHighlighted(position);
    listView.post(new Runnable(){
      @Override public void run(){
        listView.setSelection(position);
        listView.postDelayed(new Runnable(){
          @Override public void run(){
            final View v=listView.getChildAt(0);
            final int centerX=v.getWidth() / 2;
            final int centerY=v.getHeight() / 2;
            highlight.setHotspot(centerX,centerY);
            v.setPressed(true);
            v.setPressed(false);
            ((PreferenceGroupAdapter)adapter).setHighlighted(-1);
          }
        }
,DELAY_HIGHLIGHT_DURATION_MILLIS);
        mPreferenceHighlighted=true;
      }
    }
);
  }
 else {
    View preferenceView=findPreferenceViewForKey(getView(),key);
    if (preferenceView != null) {
      preferenceView.setBackground(highlight);
      final int centerX=preferenceView.getWidth() / 2;
      final int centerY=preferenceView.getHeight() / 2;
      highlight.setHotspot(centerX,centerY);
      preferenceView.setPressed(true);
      preferenceView.setPressed(false);
    }
  }
}
