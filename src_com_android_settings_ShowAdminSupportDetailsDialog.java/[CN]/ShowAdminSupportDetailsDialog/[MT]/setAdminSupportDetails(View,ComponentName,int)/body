{
  if (admin != null) {
    CharSequence supportMessage=mDpm.getShortSupportMessageForUser(admin,userId);
    if (supportMessage != null) {
      TextView textView=(TextView)root.findViewById(R.id.admin_support_msg);
      textView.setText(supportMessage);
    }
    ActivityInfo ai=null;
    try {
      ai=AppGlobals.getPackageManager().getReceiverInfo(admin,0,userId);
    }
 catch (    RemoteException e) {
      Log.w(TAG,"Missing reciever info",e);
    }
    if (ai != null) {
      Drawable icon=ai.loadIcon(getPackageManager());
      Drawable badgedIcon=getPackageManager().getUserBadgedIcon(icon,new UserHandle(userId));
      ((ImageView)root.findViewById(R.id.admin_support_icon)).setImageDrawable(badgedIcon);
    }
  }
  root.findViewById(R.id.admins_policies_list).setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View view){
      Intent intent=new Intent();
      if (admin != null) {
        intent.setClass(ShowAdminSupportDetailsDialog.this,DeviceAdminAdd.class);
        intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN,admin);
        startActivityAsUser(intent,new UserHandle(userId));
      }
 else {
        intent.setClass(ShowAdminSupportDetailsDialog.this,Settings.DeviceAdminSettingsActivity.class);
        startActivity(intent);
      }
      finish();
    }
  }
);
}
