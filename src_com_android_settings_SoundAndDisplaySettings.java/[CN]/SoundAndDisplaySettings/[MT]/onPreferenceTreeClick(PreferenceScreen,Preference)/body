{
  if (preference == mSilent || preference == mVibrate) {
    setRingerMode(mSilent.isChecked(),mVibrate.isChecked());
    if (preference == mSilent)     updateState(false);
  }
 else   if (preference == mPlayMediaNotificationSounds) {
    try {
      mMountService.setPlayNotificationSounds(mPlayMediaNotificationSounds.isChecked());
    }
 catch (    RemoteException e) {
    }
  }
 else   if (preference == mDtmfTone) {
    Settings.System.putInt(getContentResolver(),Settings.System.DTMF_TONE_WHEN_DIALING,mDtmfTone.isChecked() ? 1 : 0);
  }
 else   if (preference == mSoundEffects) {
    if (mSoundEffects.isChecked()) {
      mAudioManager.loadSoundEffects();
    }
 else {
      mAudioManager.unloadSoundEffects();
    }
    Settings.System.putInt(getContentResolver(),Settings.System.SOUND_EFFECTS_ENABLED,mSoundEffects.isChecked() ? 1 : 0);
  }
 else   if (preference == mAnimations) {
    if (mAnimationScales.length > 0) {
      mAnimationScales[0]=1;
    }
    for (int i=1; i < mAnimationScales.length; i++) {
      mAnimationScales[i]=mAnimations.isChecked() ? 1 : 0;
    }
    try {
      mWindowManager.setAnimationScales(mAnimationScales);
    }
 catch (    RemoteException e) {
    }
  }
 else   if (preference == mAccelerometer) {
    Settings.System.putInt(getContentResolver(),Settings.System.ACCELEROMETER_ROTATION,mAccelerometer.isChecked() ? 1 : 0);
  }
 else   if (preference == mCompatibilityMode) {
    Settings.System.putInt(getContentResolver(),Settings.System.COMPATIBILITY_MODE,mCompatibilityMode.isChecked() ? 1 : 0);
  }
  return true;
}
