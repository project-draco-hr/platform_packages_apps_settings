{
  if (preference == mSilent) {
    final boolean silent=mSilent.isChecked();
    mAudioManager.setRingerMode(silent ? AudioManager.RINGER_MODE_SILENT : AudioManager.RINGER_MODE_NORMAL);
  }
 else   if (preference == mVibrate) {
    final boolean vibrate=mVibrate.isChecked();
    mAudioManager.setVibrateSetting(AudioManager.VIBRATE_TYPE_RINGER,vibrate ? AudioManager.VIBRATE_SETTING_ON : AudioManager.VIBRATE_SETTING_OFF);
  }
 else   if (preference == mDtmfTone) {
    Settings.System.putInt(getContentResolver(),Settings.System.DTMF_TONE_WHEN_DIALING,mDtmfTone.isChecked() ? 1 : 0);
  }
 else   if (preference == mSoundEffects) {
    if (mSoundEffects.isChecked()) {
      mAudioManager.loadSoundEffects();
    }
 else {
      mAudioManager.unloadSoundEffects();
    }
    Settings.System.putInt(getContentResolver(),Settings.System.SOUND_EFFECTS_ENABLED,mSoundEffects.isChecked() ? 1 : 0);
  }
  return true;
}
