{
  if (preference == null)   return;
  Context context=getActivity();
  if (context == null)   return;
  Uri ringtoneUri=RingtoneManager.getActualDefaultRingtoneUri(context,type);
  CharSequence summary=context.getString(com.android.internal.R.string.ringtone_unknown);
  if (ringtoneUri == null) {
    summary=context.getString(com.android.internal.R.string.ringtone_silent);
  }
 else {
    try {
      Cursor cursor=context.getContentResolver().query(ringtoneUri,new String[]{MediaStore.Audio.Media.TITLE},null,null,null);
      if (cursor != null) {
        if (cursor.moveToFirst()) {
          summary=cursor.getString(0);
        }
        cursor.close();
      }
    }
 catch (    SQLiteException sqle) {
    }
  }
  mHandler.sendMessage(mHandler.obtainMessage(msg,summary));
}
