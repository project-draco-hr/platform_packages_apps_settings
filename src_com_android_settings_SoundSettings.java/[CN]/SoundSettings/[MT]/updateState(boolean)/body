{
  final int ringerMode=mAudioManager.getRingerMode();
  final boolean silentOrVibrateMode=ringerMode != AudioManager.RINGER_MODE_NORMAL;
  if (silentOrVibrateMode != mSilent.isChecked() || force) {
    mSilent.setChecked(silentOrVibrateMode);
  }
  String phoneVibrateSetting=getPhoneVibrateSettingValue();
  if (!phoneVibrateSetting.equals(mVibrate.getValue()) || force) {
    mVibrate.setValue(phoneVibrateSetting);
  }
  mVibrate.setSummary(mVibrate.getEntry());
  int silentModeStreams=Settings.System.getInt(getContentResolver(),Settings.System.MODE_RINGER_STREAMS_AFFECTED,0);
  boolean isAlarmInclSilentMode=(silentModeStreams & (1 << AudioManager.STREAM_ALARM)) != 0;
  mSilent.setSummary(isAlarmInclSilentMode ? R.string.silent_mode_incl_alarm_summary : R.string.silent_mode_summary);
}
