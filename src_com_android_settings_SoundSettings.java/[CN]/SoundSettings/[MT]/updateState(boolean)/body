{
  final int ringerMode=mAudioManager.getRingerMode();
  final boolean silentOrVibrateMode=ringerMode != AudioManager.RINGER_MODE_NORMAL;
  if (silentOrVibrateMode != mSilent.isChecked() || force) {
    mSilent.setChecked(silentOrVibrateMode);
  }
  try {
    mPlayMediaNotificationSounds.setChecked(mMountService.getPlayNotificationSounds());
  }
 catch (  RemoteException e) {
  }
  boolean vibrateSetting;
  if (silentOrVibrateMode) {
    vibrateSetting=ringerMode == AudioManager.RINGER_MODE_VIBRATE;
  }
 else {
    vibrateSetting=mAudioManager.getVibrateSetting(AudioManager.VIBRATE_TYPE_RINGER) == AudioManager.VIBRATE_SETTING_ON;
  }
  if (vibrateSetting != mVibrate.isChecked() || force) {
    mVibrate.setChecked(vibrateSetting);
  }
  int silentModeStreams=Settings.System.getInt(getContentResolver(),Settings.System.MODE_RINGER_STREAMS_AFFECTED,0);
  boolean isAlarmInclSilentMode=(silentModeStreams & (1 << AudioManager.STREAM_ALARM)) != 0;
  mSilent.setSummary(isAlarmInclSilentMode ? R.string.silent_mode_incl_alarm_summary : R.string.silent_mode_summary);
}
