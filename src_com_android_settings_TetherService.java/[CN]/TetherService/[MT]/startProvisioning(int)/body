{
  if (index < mCurrentTethers.size()) {
    String provisionAction=getResources().getString(com.android.internal.R.string.config_mobile_hotspot_provision_app_no_ui);
    if (DEBUG)     Log.d(TAG,"Sending provisioning broadcast: " + provisionAction + " type: "+ mCurrentTethers.get(index));
    Intent intent=new Intent(provisionAction);
    int type=mCurrentTethers.get(index);
    intent.putExtra(TETHER_CHOICE,type);
    intent.setFlags(Intent.FLAG_RECEIVER_FOREGROUND);
    final PackageManager packageManager=getPackageManager();
    if (packageManager.queryBroadcastReceivers(intent,PackageManager.MATCH_DEFAULT_ONLY).isEmpty()) {
      Log.e(TAG,"Provisioning app is configured, but not available.");
      fireCallbacksForType(type,ConnectivityManager.TETHER_ERROR_PROVISION_FAILED);
      removeTypeAtIndex(index);
      return;
    }
    sendBroadcast(intent);
    mInProvisionCheck=true;
  }
}
