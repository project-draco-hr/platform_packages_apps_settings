{
  if (preference == mUsbTether) {
    boolean newState=mUsbTether.isChecked();
    ConnectivityManager cm=(ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);
    if (newState) {
      String[] available=cm.getTetherableIfaces();
      String usbIface=findIface(available,mUsbRegexs);
      if (usbIface == null) {
        updateState();
        return true;
      }
      if (cm.tether(usbIface) != ConnectivityManager.TETHER_ERROR_NO_ERROR) {
        mUsbTether.setChecked(false);
        mUsbTether.setSummary(R.string.usb_tethering_errored_subtext);
        return true;
      }
      mUsbTether.setSummary("");
    }
 else {
      String[] tethered=cm.getTetheredIfaces();
      String usbIface=findIface(tethered,mUsbRegexs);
      if (usbIface == null) {
        updateState();
        return true;
      }
      if (cm.untether(usbIface) != ConnectivityManager.TETHER_ERROR_NO_ERROR) {
        mUsbTether.setSummary(R.string.usb_tethering_errored_subtext);
        return true;
      }
      mUsbTether.setSummary("");
    }
  }
 else   if (preference == mTetherHelp) {
    Locale locale=Locale.getDefault();
    String url=HELP_URL.replace("%y",locale.getLanguage().toLowerCase());
    url=url.replace("%z",locale.getCountry().toLowerCase());
    if ((mUsbRegexs.length != 0) && (mWifiRegexs.length == 0)) {
      url=url.replace("%x",USB_HELP_MODIFIER);
    }
 else     if ((mWifiRegexs.length != 0) && (mUsbRegexs.length == 0)) {
      url=url.replace("%x",WIFI_HELP_MODIFIER);
    }
 else {
      url=url.replace("%x","");
    }
    WebView view=new WebView(this);
    view.loadUrl(url);
    AlertDialog.Builder builder=new AlertDialog.Builder(this);
    builder.setCancelable(true);
    builder.setTitle(R.string.tethering_help_button_text);
    builder.setView(view);
    builder.show();
  }
  return false;
}
