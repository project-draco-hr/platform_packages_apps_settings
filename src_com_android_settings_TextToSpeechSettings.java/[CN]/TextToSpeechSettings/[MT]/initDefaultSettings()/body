{
  ContentResolver resolver=getContentResolver();
  int useDefault=0;
  mUseDefaultPref=(CheckBoxPreference)findPreference(KEY_TTS_USE_DEFAULT);
  try {
    useDefault=Settings.Secure.getInt(resolver,TTS_USE_DEFAULTS);
  }
 catch (  SettingNotFoundException e) {
    useDefault=TextToSpeech.Engine.USE_DEFAULTS;
    Settings.Secure.putInt(resolver,TTS_USE_DEFAULTS,useDefault);
  }
  mUseDefaultPref.setChecked(useDefault == 1);
  mUseDefaultPref.setOnPreferenceChangeListener(this);
  String engine=Settings.Secure.getString(resolver,TTS_DEFAULT_SYNTH);
  if (engine == null) {
    engine=FALLBACK_TTS_DEFAULT_SYNTH;
    Settings.Secure.putString(resolver,TTS_DEFAULT_SYNTH,engine);
  }
  mDefaultEng=engine;
  mDefaultRatePref=(ListPreference)findPreference(KEY_TTS_DEFAULT_RATE);
  try {
    mDefaultRate=Settings.Secure.getInt(resolver,TTS_DEFAULT_RATE);
  }
 catch (  SettingNotFoundException e) {
    mDefaultRate=TextToSpeech.Engine.DEFAULT_RATE;
    Settings.Secure.putInt(resolver,TTS_DEFAULT_RATE,mDefaultRate);
  }
  mDefaultRatePref.setValue(String.valueOf(mDefaultRate));
  mDefaultRatePref.setOnPreferenceChangeListener(this);
  mDefaultLocPref=(ListPreference)findPreference(KEY_TTS_DEFAULT_LANG);
  initDefaultLang();
  mDefaultLocPref.setOnPreferenceChangeListener(this);
}
