{
  CharSequence[] entries=new CharSequence[availableLangs.size()];
  CharSequence[] entryValues=new CharSequence[availableLangs.size()];
  int selectedLanguageIndex=-1;
  String selectedLanguagePref=mDefaultLanguage;
  if (mDefaultCountry.length() > 0) {
    selectedLanguagePref=selectedLanguagePref + LOCALE_DELIMITER + mDefaultCountry;
  }
  if (mDefaultLocVariant.length() > 0) {
    selectedLanguagePref=selectedLanguagePref + LOCALE_DELIMITER + mDefaultLocVariant;
  }
  for (int i=0; i < availableLangs.size(); i++) {
    String[] langCountryVariant=availableLangs.get(i).split("-");
    Locale loc=null;
    if (langCountryVariant.length == 1) {
      loc=new Locale(langCountryVariant[0]);
    }
 else     if (langCountryVariant.length == 2) {
      loc=new Locale(langCountryVariant[0],langCountryVariant[1]);
    }
 else     if (langCountryVariant.length == 3) {
      loc=new Locale(langCountryVariant[0],langCountryVariant[1],langCountryVariant[2]);
    }
    if (loc != null) {
      entries[i]=loc.getDisplayName();
      entryValues[i]=availableLangs.get(i);
      if (entryValues[i].equals(selectedLanguagePref)) {
        selectedLanguageIndex=i;
      }
    }
  }
  mDefaultLocPref.setEntries(entries);
  mDefaultLocPref.setEntryValues(entryValues);
  if (selectedLanguageIndex > -1) {
    mDefaultLocPref.setValueIndex(selectedLanguageIndex);
  }
}
