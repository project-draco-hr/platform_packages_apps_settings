{
  final Activity activity=getActivity();
  final AlertDialog.Builder dialogBuilder=new AlertDialog.Builder(activity);
  final LayoutInflater inflater=LayoutInflater.from(dialogBuilder.getContext());
  final View content=inflater.inflate(R.layout.dialog_edittext,null);
  final EditText editText=(EditText)content.findViewById(R.id.edittext);
  editText.setText(mDialogEditingWord);
  editText.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_FLAG_AUTO_COMPLETE);
  AlertDialog dialog=dialogBuilder.setTitle(mDialogEditingWord != null ? R.string.user_dict_settings_edit_dialog_title : R.string.user_dict_settings_add_dialog_title).setView(content).setPositiveButton(android.R.string.ok,new DialogInterface.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int which){
      onAddOrEditFinished(editText.getText().toString());
      if (mAutoReturn)       activity.onBackPressed();
    }
  }
).setNegativeButton(android.R.string.cancel,new DialogInterface.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int which){
      if (mAutoReturn)       activity.onBackPressed();
    }
  }
).create();
  dialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN | WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE);
  return dialog;
}
