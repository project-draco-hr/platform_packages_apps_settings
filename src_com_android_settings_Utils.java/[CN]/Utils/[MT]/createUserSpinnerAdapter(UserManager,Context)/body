{
  List<UserHandle> userProfiles=userManager.getUserProfiles();
  if (userProfiles.size() < 2) {
    return null;
  }
  UserHandle myUserHandle=new UserHandle(UserHandle.myUserId());
  userProfiles.remove(myUserHandle);
  userProfiles.add(0,myUserHandle);
  ArrayList<UserDetails> userDetails=new ArrayList<UserDetails>(userProfiles.size());
  final int count=userProfiles.size();
  for (int i=0; i < count; i++) {
    userDetails.add(new UserDetails(userProfiles.get(i),userManager,context));
  }
  return new UserSpinnerAdapter(context,userDetails);
}
