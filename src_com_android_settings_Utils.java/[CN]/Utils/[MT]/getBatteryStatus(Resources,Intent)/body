{
  final Intent intent=batteryChangedIntent;
  int plugType=intent.getIntExtra("plugged",0);
  int status=intent.getIntExtra("status",BatteryManager.BATTERY_STATUS_UNKNOWN);
  String statusString;
  if (status == BatteryManager.BATTERY_STATUS_CHARGING) {
    statusString=res.getString(R.string.battery_info_status_charging);
    if (plugType > 0) {
      statusString=statusString + " " + res.getString((plugType == BatteryManager.BATTERY_PLUGGED_AC) ? R.string.battery_info_status_charging_ac : R.string.battery_info_status_charging_usb);
    }
  }
 else   if (status == BatteryManager.BATTERY_STATUS_DISCHARGING) {
    statusString=res.getString(R.string.battery_info_status_discharging);
  }
 else   if (status == BatteryManager.BATTERY_STATUS_NOT_CHARGING) {
    statusString=res.getString(R.string.battery_info_status_not_charging);
  }
 else   if (status == BatteryManager.BATTERY_STATUS_FULL) {
    statusString=res.getString(R.string.battery_info_status_full);
  }
 else {
    statusString=res.getString(R.string.battery_info_status_unknown);
  }
  return statusString;
}
