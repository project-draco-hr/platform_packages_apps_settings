{
  int size=voiceInteractors.size();
  CharSequence[] entries=new CharSequence[size + 1];
  CharSequence[] values=new CharSequence[size + 1];
  String currentSetting=Settings.Secure.getString(mFragment.getContentResolver(),Settings.Secure.VOICE_INTERACTION_SERVICE);
  for (int i=0; i < size; i++) {
    ResolveInfo resolveInfo=voiceInteractors.get(i);
    String recognizerComponent=new ComponentName(resolveInfo.serviceInfo.packageName,resolveInfo.serviceInfo.name).flattenToShortString();
    mAvailableVoiceInteractionsMap.put(recognizerComponent,resolveInfo);
    entries[i]=resolveInfo.loadLabel(mFragment.getPackageManager());
    values[i]=recognizerComponent;
  }
  entries[size]=mFragment.getString(R.string.no_voice_interactor);
  values[size]="";
  mVoiceInteractionPref.setEntries(entries);
  mVoiceInteractionPref.setEntryValues(values);
  mVoiceInteractionPref.setDefaultValue(currentSetting);
  mVoiceInteractionPref.setValue(currentSetting);
  updateVoiceInteractionSettingsLink(currentSetting);
}
