{
  if (mServicesCategory.getPreference(0) != mNoServicesMessagePreference) {
    return;
  }
  SharedPreferences preferences=getActivity().getPreferences(Context.MODE_PRIVATE);
  final boolean offerInstallService=!preferences.getBoolean(KEY_INSTALL_ACCESSIBILITY_SERVICE_OFFERED_ONCE,false);
  if (offerInstallService) {
    String screenreaderMarketLink=SystemProperties.get(SYSTEM_PROPERTY_MARKET_URL,DEFAULT_SCREENREADER_MARKET_LINK);
    Uri marketUri=Uri.parse(screenreaderMarketLink);
    Intent marketIntent=new Intent(Intent.ACTION_VIEW,marketUri);
    if (getPackageManager().resolveActivity(marketIntent,0) == null) {
      return;
    }
    preferences.edit().putBoolean(KEY_INSTALL_ACCESSIBILITY_SERVICE_OFFERED_ONCE,true).commit();
    showDialog(DIALOG_ID_NO_ACCESSIBILITY_SERVICES);
  }
}
