{
  mLocale=(LocalePreference)findPreference(PREF_LOCALE);
  mFontSize=(ListPreference)findPreference(PREF_FONT_SIZE);
  final Resources res=getResources();
  final int[] presetValues=res.getIntArray(R.array.captioning_preset_selector_values);
  final String[] presetTitles=res.getStringArray(R.array.captioning_preset_selector_titles);
  mPreset=(PresetPreference)findPreference(PREF_PRESET);
  mPreset.setValues(presetValues);
  mPreset.setTitles(presetTitles);
  mCustom=(PreferenceCategory)findPreference(PREF_CUSTOM);
  mShowingCustom=true;
  final int[] colorValues=res.getIntArray(R.array.captioning_color_selector_values);
  final String[] colorTitles=res.getStringArray(R.array.captioning_color_selector_titles);
  mForegroundColor=(ColorPreference)mCustom.findPreference(PREF_FOREGROUND_COLOR);
  mForegroundColor.setTitles(colorTitles);
  mForegroundColor.setValues(colorValues);
  final int[] opacityValues=res.getIntArray(R.array.captioning_opacity_selector_values);
  final String[] opacityTitles=res.getStringArray(R.array.captioning_opacity_selector_titles);
  mForegroundOpacity=(ColorPreference)mCustom.findPreference(PREF_FOREGROUND_OPACITY);
  mForegroundOpacity.setTitles(opacityTitles);
  mForegroundOpacity.setValues(opacityValues);
  mEdgeColor=(ColorPreference)mCustom.findPreference(PREF_EDGE_COLOR);
  mEdgeColor.setTitles(colorTitles);
  mEdgeColor.setValues(colorValues);
  final int[] bgColorValues=new int[colorValues.length + 1];
  final String[] bgColorTitles=new String[colorTitles.length + 1];
  System.arraycopy(colorValues,0,bgColorValues,1,colorValues.length);
  System.arraycopy(colorTitles,0,bgColorTitles,1,colorTitles.length);
  bgColorValues[0]=Color.TRANSPARENT;
  bgColorTitles[0]=getString(R.string.color_none);
  mBackgroundColor=(ColorPreference)mCustom.findPreference(PREF_BACKGROUND_COLOR);
  mBackgroundColor.setTitles(bgColorTitles);
  mBackgroundColor.setValues(bgColorValues);
  mBackgroundOpacity=(ColorPreference)mCustom.findPreference(PREF_BACKGROUND_OPACITY);
  mBackgroundOpacity.setTitles(opacityTitles);
  mBackgroundOpacity.setValues(opacityValues);
  mEdgeType=(EdgeTypePreference)mCustom.findPreference(PREF_EDGE_TYPE);
  mTypeface=(ListPreference)mCustom.findPreference(PREF_TYPEFACE);
}
