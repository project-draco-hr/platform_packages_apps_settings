{
  for (int i=0, count=getPreferenceScreen().getPreferenceCount(); i < count; i++) {
    Preference pref=getPreferenceScreen().getPreference(i);
    if (!(pref instanceof SyncStateCheckBoxPreference)) {
      continue;
    }
    SyncStateCheckBoxPreference syncPref=(SyncStateCheckBoxPreference)pref;
    String authority=syncPref.getAuthority();
    Account account=syncPref.getAccount();
    ContentResolver.setSyncAutomatically(account,authority,syncPref.isChecked());
  }
}
