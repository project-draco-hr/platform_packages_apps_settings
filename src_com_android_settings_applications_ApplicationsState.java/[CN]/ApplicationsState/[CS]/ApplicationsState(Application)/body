{
  mContext=app;
  mPm=mContext.getPackageManager();
  mThread=new HandlerThread("ApplicationsState.Loader",Process.THREAD_PRIORITY_BACKGROUND);
  mThread.start();
  mBackgroundHandler=new BackgroundHandler(mThread.getLooper());
  if (UserHandle.myUserId() == 0) {
    mRetrieveFlags=PackageManager.GET_UNINSTALLED_PACKAGES | PackageManager.GET_DISABLED_COMPONENTS | PackageManager.GET_DISABLED_UNTIL_USED_COMPONENTS;
  }
 else {
    mRetrieveFlags=PackageManager.GET_DISABLED_COMPONENTS | PackageManager.GET_DISABLED_UNTIL_USED_COMPONENTS;
  }
synchronized (mEntriesMap) {
    try {
      mEntriesMap.wait(1);
    }
 catch (    InterruptedException e) {
    }
  }
}
