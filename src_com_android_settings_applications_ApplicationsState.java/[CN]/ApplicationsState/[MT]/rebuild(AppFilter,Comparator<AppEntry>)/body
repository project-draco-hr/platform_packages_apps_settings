{
synchronized (mRebuildSync) {
    mRebuildRequested=true;
    mRebuildAsync=false;
    mRebuildFilter=filter;
    mRebuildComparator=comparator;
    mRebuildResult=null;
    if (!mBackgroundHandler.hasMessages(BackgroundHandler.MSG_REBUILD_LIST)) {
      mBackgroundHandler.sendEmptyMessage(BackgroundHandler.MSG_REBUILD_LIST);
    }
    long waitend=SystemClock.uptimeMillis() + 250;
    while (mRebuildResult == null) {
      long now=SystemClock.uptimeMillis();
      if (now >= waitend) {
        break;
      }
      try {
        mRebuildSync.wait(waitend - now);
      }
 catch (      InterruptedException e) {
      }
    }
    mRebuildAsync=true;
    return mRebuildResult;
  }
}
