{
  if (Environment.isExternalStorageEmulated()) {
    mMoveAppButton.setVisibility(View.INVISIBLE);
    return;
  }
  boolean dataOnly=false;
  dataOnly=(mPackageInfo == null) && (mAppEntry != null);
  boolean moveDisable=true;
  if (dataOnly) {
    mMoveAppButton.setText(R.string.move_app);
  }
 else   if ((mAppEntry.info.flags & ApplicationInfo.FLAG_EXTERNAL_STORAGE) != 0) {
    mMoveAppButton.setText(R.string.move_app_to_internal);
    moveDisable=false;
  }
 else {
    mMoveAppButton.setText(R.string.move_app_to_sdcard);
    mCanBeOnSdCardChecker.init();
    moveDisable=!mCanBeOnSdCardChecker.check(mAppEntry.info);
  }
  if (moveDisable || mAppControlRestricted) {
    mMoveAppButton.setEnabled(false);
  }
 else {
    mMoveAppButton.setOnClickListener(this);
    mMoveAppButton.setEnabled(true);
  }
}
