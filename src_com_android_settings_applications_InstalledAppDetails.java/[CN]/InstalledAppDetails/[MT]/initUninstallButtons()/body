{
  mUpdatedSysApp=(mAppEntry.info.flags & ApplicationInfo.FLAG_UPDATED_SYSTEM_APP) != 0;
  boolean enabled=true;
  if (mUpdatedSysApp) {
    mUninstallButton.setText(R.string.app_factory_reset);
    boolean specialDisable=false;
    if ((mAppEntry.info.flags & ApplicationInfo.FLAG_SYSTEM) != 0) {
      specialDisable=handleDisableable(mSpecialDisableButton);
      mSpecialDisableButton.setOnClickListener(this);
    }
    mMoreControlButtons.setVisibility(specialDisable ? View.VISIBLE : View.GONE);
  }
 else {
    mMoreControlButtons.setVisibility(View.GONE);
    if ((mAppEntry.info.flags & ApplicationInfo.FLAG_SYSTEM) != 0) {
      enabled=handleDisableable(mUninstallButton);
    }
 else     if ((mPackageInfo.applicationInfo.flags & ApplicationInfo.FLAG_INSTALLED) == 0) {
      mUninstallButton.setText(R.string.uninstall_text);
      enabled=false;
    }
 else {
      mUninstallButton.setText(R.string.uninstall_text);
    }
  }
  if (mDpm.packageHasActiveAdmins(mPackageInfo.packageName)) {
    enabled=false;
  }
  mUninstallButton.setEnabled(enabled);
  if (enabled) {
    mUninstallButton.setOnClickListener(this);
  }
}
