{
  if (mMoveInProgress) {
    return true;
  }
  final Bundle args=getArguments();
  String packageName=(args != null) ? args.getString(ARG_PACKAGE_NAME) : null;
  if (packageName == null) {
    Intent intent=(args == null) ? getActivity().getIntent() : (Intent)args.getParcelable("intent");
    if (intent != null) {
      packageName=intent.getData().getSchemeSpecificPart();
    }
  }
  mAppEntry=mState.getEntry(packageName);
  if (mAppEntry == null) {
    return false;
  }
  try {
    mPackageInfo=mPm.getPackageInfo(mAppEntry.info.packageName,PackageManager.GET_DISABLED_COMPONENTS | PackageManager.GET_UNINSTALLED_PACKAGES | PackageManager.GET_SIGNATURES);
  }
 catch (  NameNotFoundException e) {
    Log.e(TAG,"Exception when retrieving package:" + mAppEntry.info.packageName,e);
    return false;
  }
  List<ComponentName> prefActList=new ArrayList<ComponentName>();
  List<IntentFilter> intentList=new ArrayList<IntentFilter>();
  mPm.getPreferredActivities(intentList,prefActList,packageName);
  if (localLOGV)   Log.i(TAG,"Have " + prefActList.size() + " number of activities in preferred list");
  boolean hasUsbDefaults=false;
  try {
    hasUsbDefaults=mUsbManager.hasDefaults(packageName);
  }
 catch (  RemoteException e) {
    Log.e(TAG,"mUsbManager.hasDefaults",e);
  }
  boolean hasBindAppWidgetPermission=mAppWidgetManager.hasBindAppWidgetPermission(mAppEntry.info.packageName);
  TextView autoLaunchTitleView=(TextView)mRootView.findViewById(R.id.auto_launch_title);
  TextView autoLaunchView=(TextView)mRootView.findViewById(R.id.auto_launch);
  boolean autoLaunchEnabled=prefActList.size() > 0 || hasUsbDefaults;
  if (!autoLaunchEnabled && !hasBindAppWidgetPermission) {
    resetLaunchDefaultsUi(autoLaunchTitleView,autoLaunchView);
  }
 else {
    boolean useBullets=hasBindAppWidgetPermission && autoLaunchEnabled;
    if (hasBindAppWidgetPermission) {
      autoLaunchTitleView.setText(R.string.auto_launch_label_generic);
    }
 else {
      autoLaunchTitleView.setText(R.string.auto_launch_label);
    }
    CharSequence text=null;
    int bulletIndent=getResources().getDimensionPixelSize(R.dimen.installed_app_details_bullet_offset);
    if (autoLaunchEnabled) {
      CharSequence autoLaunchEnableText=getText(R.string.auto_launch_enable_text);
      SpannableString s=new SpannableString(autoLaunchEnableText);
      if (useBullets) {
        s.setSpan(new BulletSpan(bulletIndent),0,autoLaunchEnableText.length(),0);
      }
      text=(text == null) ? TextUtils.concat(s,"\n") : TextUtils.concat(text,"\n",s,"\n");
    }
    if (hasBindAppWidgetPermission) {
      CharSequence alwaysAllowBindAppWidgetsText=getText(R.string.always_allow_bind_appwidgets_text);
      SpannableString s=new SpannableString(alwaysAllowBindAppWidgetsText);
      if (useBullets) {
        s.setSpan(new BulletSpan(bulletIndent),0,alwaysAllowBindAppWidgetsText.length(),0);
      }
      text=(text == null) ? TextUtils.concat(s,"\n") : TextUtils.concat(text,"\n",s,"\n");
    }
    autoLaunchView.setText(text);
    mActivitiesButton.setEnabled(true);
    mActivitiesButton.setOnClickListener(this);
  }
  ActivityManager am=(ActivityManager)getActivity().getSystemService(Context.ACTIVITY_SERVICE);
  int compatMode=am.getPackageScreenCompatMode(packageName);
  if (false && (compatMode == ActivityManager.COMPAT_MODE_DISABLED || compatMode == ActivityManager.COMPAT_MODE_ENABLED)) {
    mScreenCompatSection.setVisibility(View.VISIBLE);
    mAskCompatibilityCB.setChecked(am.getPackageAskScreenCompat(packageName));
    mAskCompatibilityCB.setOnCheckedChangeListener(this);
    mEnableCompatibilityCB.setChecked(compatMode == ActivityManager.COMPAT_MODE_ENABLED);
    mEnableCompatibilityCB.setOnCheckedChangeListener(this);
  }
 else {
    mScreenCompatSection.setVisibility(View.GONE);
  }
  LinearLayout permsView=(LinearLayout)mRootView.findViewById(R.id.permissions_section);
  AppSecurityPermissions asp=new AppSecurityPermissions(getActivity(),packageName);
  if (asp.getPermissionCount() > 0) {
    permsView.setVisibility(View.VISIBLE);
    LinearLayout securityList=(LinearLayout)permsView.findViewById(R.id.security_settings_list);
    securityList.removeAllViews();
    securityList.addView(asp.getPermissionsView());
  }
 else {
    permsView.setVisibility(View.GONE);
  }
  checkForceStop();
  setAppLabelAndIcon(mPackageInfo);
  refreshButtons();
  refreshSizeInfo();
  return true;
}
