{
  if (mRootView != null) {
    return mRootView;
  }
  mInflater=inflater;
  mRootView=inflater.inflate(mListType == LIST_TYPE_RUNNING ? R.layout.manage_applications_running : R.layout.manage_applications_apps,null);
  mPinnedHeader=(ViewGroup)mRootView.findViewById(R.id.pinned_header);
  if (mOwner.mProfileSpinnerAdapter != null) {
    Spinner spinner=(Spinner)inflater.inflate(R.layout.spinner_view,null);
    spinner.setAdapter(mOwner.mProfileSpinnerAdapter);
    spinner.setOnItemSelectedListener(mOwner);
    mPinnedHeader.addView(spinner);
    mPinnedHeader.setVisibility(View.VISIBLE);
  }
  mLoadingContainer=mRootView.findViewById(R.id.loading_container);
  mLoadingContainer.setVisibility(View.VISIBLE);
  mListContainer=mRootView.findViewById(R.id.list_container);
  if (mListContainer != null) {
    View emptyView=mListContainer.findViewById(com.android.internal.R.id.empty);
    ListView lv=(ListView)mListContainer.findViewById(android.R.id.list);
    if (emptyView != null) {
      lv.setEmptyView(emptyView);
    }
    lv.setOnItemClickListener(this);
    lv.setSaveEnabled(true);
    lv.setItemsCanFocus(true);
    lv.setTextFilterEnabled(true);
    mListView=lv;
    mApplications=new ApplicationsAdapter(mApplicationsState,this,mFilter);
    mListView.setAdapter(mApplications);
    mListView.setRecyclerListener(mApplications);
    Utils.prepareCustomPreferencesList(contentParent,contentChild,mListView,false);
    if (mFilter == FILTER_APPS_SDCARD) {
    }
 else {
    }
    applyCurrentStorage();
  }
  mRunningProcessesView=(RunningProcessesView)mRootView.findViewById(R.id.running_processes);
  if (mRunningProcessesView != null) {
    mRunningProcessesView.doCreate(mSavedInstanceState);
  }
  return mRootView;
}
