{
  if (which == VIEW_LIST) {
    if (mResumedRunning) {
      mRunningProcessesView.doPause();
      mResumedRunning=false;
    }
    if (mCurView != which) {
      mRunningProcessesView.setVisibility(View.GONE);
      mListContainer.setVisibility(View.VISIBLE);
      mLoadingContainer.setVisibility(View.GONE);
    }
    if (mActivityResumed) {
      mApplicationsAdapter.resume(mFilterApps,mSortOrder);
    }
  }
 else   if (which == VIEW_RUNNING) {
    if (!mCreatedRunning) {
      mRunningProcessesView.doCreate(null);
      mCreatedRunning=true;
    }
    boolean haveData=true;
    if (mActivityResumed && !mResumedRunning) {
      haveData=mRunningProcessesView.doResume(this,mRunningProcessesAvail);
      mResumedRunning=true;
    }
    mApplicationsAdapter.pause();
    if (mCurView != which) {
      if (haveData) {
        mRunningProcessesView.setVisibility(View.VISIBLE);
      }
 else {
        mLoadingContainer.setVisibility(View.VISIBLE);
      }
      mListContainer.setVisibility(View.GONE);
    }
  }
  mCurView=which;
}
