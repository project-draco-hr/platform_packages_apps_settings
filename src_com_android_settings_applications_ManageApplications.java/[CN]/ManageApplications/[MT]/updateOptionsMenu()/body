{
  if (mOptionsMenu == null) {
    return;
  }
  if (mCurView == VIEW_RUNNING) {
    boolean showingBackground=mRunningProcessesView != null ? mRunningProcessesView.mAdapter.getShowBackground() : false;
    mOptionsMenu.findItem(SORT_ORDER_ALPHA).setVisible(false);
    mOptionsMenu.findItem(SORT_ORDER_SIZE).setVisible(false);
    mOptionsMenu.findItem(SHOW_RUNNING_SERVICES).setVisible(showingBackground);
    mOptionsMenu.findItem(SHOW_BACKGROUND_PROCESSES).setVisible(!showingBackground);
    mOptionsMenu.findItem(RESET_APP_PREFERENCES).setVisible(false);
  }
 else {
    mOptionsMenu.findItem(SORT_ORDER_ALPHA).setVisible(mSortOrder != SORT_ORDER_ALPHA);
    mOptionsMenu.findItem(SORT_ORDER_SIZE).setVisible(mSortOrder != SORT_ORDER_SIZE);
    mOptionsMenu.findItem(SHOW_RUNNING_SERVICES).setVisible(false);
    mOptionsMenu.findItem(SHOW_BACKGROUND_PROCESSES).setVisible(false);
    mOptionsMenu.findItem(RESET_APP_PREFERENCES).setVisible(true);
  }
}
