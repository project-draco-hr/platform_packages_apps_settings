{
  mDefaultAssitPref.refreshAssistApps();
  mVoiceInputPref.refreshVoiceInputs();
  final ComponentName currentAssist=mDefaultAssitPref.getCurrentAssist();
  final boolean hasAssistant=currentAssist != null;
  if (hasAssistant) {
    getPreferenceScreen().addPreference(mContextPref);
    getPreferenceScreen().addPreference(mScreenshotPref);
  }
 else {
    getPreferenceScreen().removePreference(mContextPref);
    getPreferenceScreen().removePreference(mScreenshotPref);
  }
  if (isCurrentAssistVoiceService()) {
    getPreferenceScreen().removePreference(mVoiceInputPref);
  }
 else {
    getPreferenceScreen().addPreference(mVoiceInputPref);
    mVoiceInputPref.setAssistRestrict(currentAssist);
  }
}
