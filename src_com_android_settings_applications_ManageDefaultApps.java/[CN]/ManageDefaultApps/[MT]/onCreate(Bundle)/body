{
  super.onCreate(icicle);
  addPreferencesFromResource(R.xml.default_apps);
  mPm=getPackageManager();
  myUserId=UserHandle.myUserId();
  mDefaultBrowserPreference=(DefaultBrowserPreference)findPreference(KEY_DEFAULT_BROWSER);
  mDefaultBrowserPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener(){
    @Override public boolean onPreferenceClick(    Preference preference){
      final CharSequence packageName=mDefaultBrowserPreference.getValue();
      if (TextUtils.isEmpty(packageName)) {
        return false;
      }
      return mPm.setDefaultBrowserPackageName(packageName.toString(),myUserId);
    }
  }
);
}
