{
  if (enable) {
    int timeout=getDiscoverableTimeout();
    mLocalAdapter.setDiscoverableTimeout(timeout);
    long endTimestamp=System.currentTimeMillis() + timeout * 1000L;
    LocalBluetoothPreferences.persistDiscoverableEndTimestamp(mContext,endTimestamp);
    mLocalAdapter.setScanMode(BluetoothAdapter.SCAN_MODE_CONNECTABLE_DISCOVERABLE,timeout);
    updateCountdownSummary();
  }
 else {
    mLocalAdapter.setScanMode(BluetoothAdapter.SCAN_MODE_CONNECTABLE);
  }
}
