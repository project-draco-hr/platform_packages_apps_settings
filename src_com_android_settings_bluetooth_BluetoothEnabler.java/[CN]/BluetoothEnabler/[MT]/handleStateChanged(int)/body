{
  if (state == BluetoothAdapter.STATE_OFF || state == BluetoothAdapter.STATE_ON) {
    mCheckBoxPreference.setChecked(state == BluetoothAdapter.STATE_ON);
    mCheckBoxPreference.setSummary(state == BluetoothAdapter.STATE_OFF ? mOriginalSummary : null);
    mCheckBoxPreference.setEnabled(isEnabledByDependency());
  }
 else   if (state == BluetoothAdapter.STATE_TURNING_ON || state == BluetoothAdapter.STATE_TURNING_OFF) {
    mCheckBoxPreference.setSummary(state == BluetoothAdapter.STATE_TURNING_ON ? R.string.wifi_starting : R.string.wifi_stopping);
  }
 else {
    mCheckBoxPreference.setChecked(false);
    mCheckBoxPreference.setSummary(R.string.wifi_error);
    mCheckBoxPreference.setEnabled(true);
  }
}
