{
  super.onCreate(savedInstanceState);
  Intent intent=getIntent();
  if (!intent.getAction().equals(BluetoothIntent.PAIRING_REQUEST_ACTION)) {
    Log.e(TAG,"Error: this activity may be started only with intent " + BluetoothIntent.PAIRING_REQUEST_ACTION);
    finish();
  }
  mLocalManager=LocalBluetoothManager.getInstance(this);
  mAddress=intent.getStringExtra(BluetoothIntent.ADDRESS);
  final AlertController.AlertParams p=mAlertParams;
  p.mIconId=android.R.drawable.ic_dialog_info;
  p.mTitle=getString(R.string.bluetooth_pin_entry);
  p.mView=createView();
  p.mPositiveButtonText=getString(android.R.string.ok);
  p.mPositiveButtonListener=this;
  p.mNegativeButtonText=getString(android.R.string.cancel);
  p.mNegativeButtonListener=this;
  setupAlert();
  mOkButton=mAlert.getButton(DialogInterface.BUTTON_POSITIVE);
  mOkButton.setEnabled(false);
  registerReceiver(mReceiver,new IntentFilter(BluetoothIntent.PAIRING_CANCEL_ACTION));
}
