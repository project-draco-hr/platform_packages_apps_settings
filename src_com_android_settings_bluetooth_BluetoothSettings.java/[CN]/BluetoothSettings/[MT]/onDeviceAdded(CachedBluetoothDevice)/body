{
  if (mDevicePreferenceMap.get(cachedDevice) != null) {
    throw new IllegalStateException("Got onDeviceAdded, but cachedDevice already exists");
  }
  if (mScreenType != SCREEN_TYPE_SETTINGS || cachedDevice.getBondState() == BluetoothDevice.BOND_BONDED) {
    if (addDevicePreference(cachedDevice)) {
      createDevicePreference(cachedDevice);
    }
  }
}
