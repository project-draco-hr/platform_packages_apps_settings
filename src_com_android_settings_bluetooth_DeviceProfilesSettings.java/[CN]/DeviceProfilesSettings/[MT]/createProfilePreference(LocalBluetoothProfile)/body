{
  CheckBoxPreference pref=new CheckBoxPreference(getActivity());
  pref.setLayoutResource(R.layout.preference_start_widget);
  pref.setKey(profile.toString());
  pref.setTitle(profile.getNameResource(mCachedDevice.getDevice()));
  pref.setPersistent(false);
  pref.setOrder(getProfilePreferenceIndex(profile.getOrdinal()));
  pref.setOnPreferenceChangeListener(this);
  int iconResource=profile.getDrawableResource(mCachedDevice.getBtClass());
  if (iconResource != 0) {
    pref.setIcon(getResources().getDrawable(iconResource));
  }
  pref.setEnabled(!mCachedDevice.isBusy());
  refreshProfilePreference(pref,profile);
  return pref;
}
