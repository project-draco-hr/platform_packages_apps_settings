{
synchronized (this) {
    if (DEBUG)     Log.d(TAG,"handling failed connect for " + disconnectedDevice);
    if (disconnectedDevice != null) {
      Intent i=registerReceiver(null,new IntentFilter(Intent.ACTION_DOCK_EVENT));
      if (i != null) {
        int state=i.getIntExtra(Intent.EXTRA_DOCK_STATE,Intent.EXTRA_DOCK_STATE_UNDOCKED);
        if (state != Intent.EXTRA_DOCK_STATE_UNDOCKED) {
          BluetoothDevice dockedDevice=i.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);
          if (dockedDevice != null && dockedDevice.equals(disconnectedDevice)) {
            CachedBluetoothDevice cachedDevice=getCachedBluetoothDevice(mContext,mBtManager,dockedDevice);
            cachedDevice.connect(profile);
          }
        }
      }
    }
    DockEventReceiver.finishStartingService(this,startId);
  }
}
