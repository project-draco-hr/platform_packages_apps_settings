{
  int numOfProfiles=0;
switch (state) {
case Intent.EXTRA_DOCK_STATE_DESK:
    numOfProfiles=1;
  break;
case Intent.EXTRA_DOCK_STATE_CAR:
numOfProfiles=2;
break;
default :
return null;
}
mProfiles=new Profile[numOfProfiles];
mCheckedItems=new boolean[numOfProfiles];
CharSequence[] items=new CharSequence[numOfProfiles];
int i=0;
switch (state) {
case Intent.EXTRA_DOCK_STATE_CAR:
items[i]=service.getString(R.string.bluetooth_dock_settings_headset);
mProfiles[i]=Profile.HEADSET;
if (firstTime) {
mCheckedItems[i]=false;
}
 else {
mCheckedItems[i]=LocalBluetoothProfileManager.getProfileManager(mBtManager,Profile.HEADSET).isPreferred(device);
}
++i;
case Intent.EXTRA_DOCK_STATE_DESK:
items[i]=service.getString(R.string.bluetooth_dock_settings_a2dp);
mProfiles[i]=Profile.A2DP;
if (firstTime) {
mCheckedItems[i]=false;
}
 else {
mCheckedItems[i]=LocalBluetoothProfileManager.getProfileManager(mBtManager,Profile.A2DP).isPreferred(device);
}
break;
}
return items;
}
