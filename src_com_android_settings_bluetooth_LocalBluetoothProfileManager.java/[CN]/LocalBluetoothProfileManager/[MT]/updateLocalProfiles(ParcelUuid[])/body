{
  if (BluetoothUuid.isUuidPresent(uuids,BluetoothUuid.AudioSource)) {
    if (mA2dpProfile == null) {
      if (DEBUG)       Log.d(TAG,"Adding local A2DP profile");
      mA2dpProfile=new A2dpProfile(mContext,mLocalAdapter,mDeviceManager,this);
      addProfile(mA2dpProfile,A2dpProfile.NAME,BluetoothA2dp.ACTION_CONNECTION_STATE_CHANGED);
    }
  }
 else   if (mA2dpProfile != null) {
    Log.w(TAG,"Warning: A2DP profile was previously added but the UUID is now missing.");
  }
  if (BluetoothUuid.isUuidPresent(uuids,BluetoothUuid.Handsfree_AG) || BluetoothUuid.isUuidPresent(uuids,BluetoothUuid.HSP_AG)) {
    if (mHeadsetProfile == null) {
      if (DEBUG)       Log.d(TAG,"Adding local HEADSET profile");
      mHeadsetProfile=new HeadsetProfile(mContext,mLocalAdapter,mDeviceManager,this);
      addProfile(mHeadsetProfile,HeadsetProfile.NAME,BluetoothHeadset.ACTION_CONNECTION_STATE_CHANGED);
    }
  }
 else   if (mHeadsetProfile != null) {
    Log.w(TAG,"Warning: HEADSET profile was previously added but the UUID is now missing.");
  }
  if (BluetoothUuid.isUuidPresent(uuids,BluetoothUuid.ObexObjectPush)) {
    if (mOppProfile == null) {
      if (DEBUG)       Log.d(TAG,"Adding local OPP profile");
      mOppProfile=new OppProfile();
      mProfileNameMap.put(OppProfile.NAME,mOppProfile);
    }
  }
 else   if (mOppProfile != null) {
    Log.w(TAG,"Warning: OPP profile was previously added but the UUID is now missing.");
  }
  mEventManager.registerProfileIntentReceiver();
}
