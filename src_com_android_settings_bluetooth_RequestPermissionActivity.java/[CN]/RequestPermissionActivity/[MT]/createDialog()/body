{
  AlertDialog.Builder builder=new AlertDialog.Builder(this);
  builder.setIcon(android.R.drawable.ic_dialog_info);
  builder.setTitle(getString(R.string.bluetooth_permission_request));
  if (mNeededToEnableBluetooth) {
    builder.setMessage(getString(R.string.bluetooth_turning_on));
    builder.setCancelable(false);
  }
 else {
    if (mTimeout == BluetoothDiscoverableEnabler.DISCOVERABLE_TIMEOUT_NEVER) {
      builder.setMessage(getString(R.string.bluetooth_ask_lasting_discovery));
    }
 else {
      builder.setMessage(getString(R.string.bluetooth_ask_discovery,mTimeout));
    }
    builder.setPositiveButton(getString(R.string.yes),this);
    builder.setNegativeButton(getString(R.string.no),this);
  }
  mDialog=builder.create();
  mDialog.show();
  if (getResources().getBoolean(R.bool.auto_confirm_bluetooth_activation_dialog) == true) {
    onClick(null,DialogInterface.BUTTON_POSITIVE);
  }
}
