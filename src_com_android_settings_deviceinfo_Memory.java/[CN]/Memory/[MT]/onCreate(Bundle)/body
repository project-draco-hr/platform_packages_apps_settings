{
  super.onCreate(icicle);
  final Context context=getActivity();
  mUsbManager=(UsbManager)getSystemService(Context.USB_SERVICE);
  mStorageManager=StorageManager.from(context);
  mStorageManager.registerListener(mStorageListener);
  addPreferencesFromResource(R.xml.device_info_memory);
  addCategory(StorageVolumePreferenceCategory.buildForInternal(context));
  final StorageVolume[] storageVolumes=mStorageManager.getVolumeList();
  for (  StorageVolume volume : storageVolumes) {
    if (!volume.isEmulated()) {
      addCategory(StorageVolumePreferenceCategory.buildForPhysical(context,volume));
    }
  }
  setHasOptionsMenu(true);
}
