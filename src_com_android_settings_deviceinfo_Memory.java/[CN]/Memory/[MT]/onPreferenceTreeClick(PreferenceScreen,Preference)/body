{
  if (preference == mSdMountToggle) {
    String status=Environment.getExternalStorageState();
    if (status.equals(Environment.MEDIA_MOUNTED)) {
      unmount();
    }
 else {
      mount();
    }
    return true;
  }
 else   if (preference == mSdFormat) {
    Intent intent=new Intent(Intent.ACTION_VIEW);
    intent.setClass(getActivity(),com.android.settings.MediaFormat.class);
    startActivity(intent);
    return true;
  }
 else   if (preference == mPtpModeToggle) {
    Settings.System.putInt(getContentResolver(),Settings.System.USE_PTP_INTERFACE,mPtpModeToggle.isChecked() ? 1 : 0);
    return true;
  }
  return false;
}
