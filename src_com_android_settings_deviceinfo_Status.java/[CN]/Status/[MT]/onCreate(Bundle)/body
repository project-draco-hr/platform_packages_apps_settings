{
  super.onCreate(icicle);
  Preference removablePref;
  mHandler=new MyHandler(this);
  mTelephonyManager=(TelephonyManager)getSystemService(TELEPHONY_SERVICE);
  addPreferencesFromResource(R.xml.device_info_status);
  mBatteryLevel=findPreference(KEY_BATTERY_LEVEL);
  mBatteryStatus=findPreference(KEY_BATTERY_STATUS);
  mRes=getResources();
  if (sUnknown == null) {
    sUnknown=mRes.getString(R.string.device_info_default);
  }
  mPhone=PhoneFactory.getDefaultPhone();
  mSignalStrength=findPreference(KEY_SIGNAL_STRENGTH);
  mUptime=findPreference("up_time");
  if (Utils.isWifiOnly(getApplicationContext())) {
    for (    String key : PHONE_RELATED_ENTRIES) {
      removePreferenceFromScreen(key);
    }
  }
 else {
    if (mPhone.getPhoneName().equals("CDMA")) {
      setSummaryText(KEY_MEID_NUMBER,mPhone.getMeid());
      setSummaryText(KEY_MIN_NUMBER,mPhone.getCdmaMin());
      if (getResources().getBoolean(R.bool.config_msid_enable)) {
        findPreference(KEY_MIN_NUMBER).setTitle(R.string.status_msid_number);
      }
      setSummaryText(KEY_PRL_VERSION,mPhone.getCdmaPrlVersion());
      removePreferenceFromScreen(KEY_IMEI_SV);
      if (mPhone.getLteOnCdmaMode() == Phone.LTE_ON_CDMA_TRUE) {
        setSummaryText(KEY_ICC_ID,mPhone.getIccSerialNumber());
        setSummaryText(KEY_IMEI,mPhone.getImei());
      }
 else {
        removePreferenceFromScreen(KEY_IMEI);
        removePreferenceFromScreen(KEY_ICC_ID);
      }
    }
 else {
      setSummaryText(KEY_IMEI,mPhone.getDeviceId());
      setSummaryText(KEY_IMEI_SV,((TelephonyManager)getSystemService(TELEPHONY_SERVICE)).getDeviceSoftwareVersion());
      removePreferenceFromScreen(KEY_PRL_VERSION);
      removePreferenceFromScreen(KEY_MEID_NUMBER);
      removePreferenceFromScreen(KEY_MIN_NUMBER);
      removePreferenceFromScreen(KEY_ICC_ID);
    }
    String rawNumber=mPhone.getLine1Number();
    String formattedNumber=null;
    if (!TextUtils.isEmpty(rawNumber)) {
      formattedNumber=PhoneNumberUtils.formatNumber(rawNumber);
    }
    setSummaryText(KEY_PHONE_NUMBER,formattedNumber);
    mPhoneStateReceiver=new PhoneStateIntentReceiver(this,mHandler);
    mPhoneStateReceiver.notifySignalStrength(EVENT_SIGNAL_STRENGTH_CHANGED);
    mPhoneStateReceiver.notifyServiceState(EVENT_SERVICE_STATE_CHANGED);
  }
  setWifiStatus();
  setBtStatus();
  String serial=Build.SERIAL;
  if (serial != null && !serial.equals("")) {
    setSummaryText(KEY_SERIAL_NUMBER,serial);
  }
 else {
    removePreferenceFromScreen(KEY_SERIAL_NUMBER);
  }
}
