{
  if (requestCode == CONFIRM_REQUEST) {
    if (resultCode == RESULT_OK) {
      mToken=data.getByteArrayExtra(ChooseLockSettingsHelper.EXTRA_KEY_CHALLENGE_TOKEN);
      overridePendingTransition(R.anim.suw_slide_next_in,R.anim.suw_slide_next_out);
    }
 else {
      finish();
    }
  }
 else   if (requestCode == ENROLLING) {
    if (resultCode == RESULT_FINISHED) {
      setResult(RESULT_FINISHED);
      finish();
    }
 else {
      FingerprintManager fpm=getSystemService(FingerprintManager.class);
      int enrolled=fpm.getEnrolledFingerprints().size();
      int max=getResources().getInteger(com.android.internal.R.integer.config_fingerprintMaxTemplatesPerUser);
      if (enrolled >= max) {
        finish();
      }
    }
  }
 else {
    super.onActivityResult(requestCode,resultCode,data);
  }
}
