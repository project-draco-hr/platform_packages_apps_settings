{
  double power=0;
  long screenOnTimeMs=mStats.getScreenOnTime(uSecNow,mStatsType) / 1000;
  power+=screenOnTimeMs * mPowerProfile.getAveragePower(PowerProfile.POWER_SCREEN_ON);
  final double screenFullPower=mPowerProfile.getAveragePower(PowerProfile.POWER_SCREEN_FULL);
  for (int i=0; i < BatteryStats.NUM_SCREEN_BRIGHTNESS_BINS; i++) {
    double screenBinPower=screenFullPower * (i + 0.5f) / BatteryStats.NUM_SCREEN_BRIGHTNESS_BINS;
    long brightnessTime=mStats.getScreenBrightnessTime(i,uSecNow,mStatsType) / 1000;
    power+=screenBinPower * brightnessTime;
    if (DEBUG) {
      Log.i(TAG,"Screen bin power = " + (int)screenBinPower + ", time = "+ brightnessTime);
    }
  }
  power/=1000;
  addEntry(mActivity.getString(R.string.power_screen),DrainType.SCREEN,screenOnTimeMs,R.drawable.ic_settings_display,power);
}
