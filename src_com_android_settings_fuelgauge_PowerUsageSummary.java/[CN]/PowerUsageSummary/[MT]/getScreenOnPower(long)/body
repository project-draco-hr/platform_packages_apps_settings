{
  double power=0;
  power+=mStats.getScreenOnTime(uSecNow,mStatsType) * mPowerProfile.getAveragePower(PowerProfile.POWER_SCREEN_ON) / 1000;
  final double screenFullPower=mPowerProfile.getAveragePower(PowerProfile.POWER_SCREEN_FULL);
  for (int i=0; i < BatteryStats.NUM_SCREEN_BRIGHTNESS_BINS; i++) {
    double screenBinPower=screenFullPower * i / BatteryStats.NUM_SCREEN_BRIGHTNESS_BINS;
    long brightnessTime=mStats.getScreenBrightnessTime(i,uSecNow,mStatsType) / 1000;
    power+=screenBinPower * brightnessTime;
    if (DEBUG) {
      Log.i(TAG,"Screen bin power = " + (int)screenBinPower + ", time = "+ brightnessTime);
    }
  }
  return power / 1000;
}
