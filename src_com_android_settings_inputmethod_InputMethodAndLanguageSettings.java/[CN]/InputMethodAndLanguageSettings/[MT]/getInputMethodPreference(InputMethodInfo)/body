{
  final PackageManager pm=getPackageManager();
  final CharSequence label=imi.loadLabel(pm);
  final Intent intent;
  final String settingsActivity=imi.getSettingsActivity();
  if (!TextUtils.isEmpty(settingsActivity)) {
    intent=new Intent(Intent.ACTION_MAIN);
    intent.setClassName(imi.getPackageName(),settingsActivity);
  }
 else {
    intent=null;
  }
  final InputMethodPreference pref=new InputMethodPreference(this,intent,mImm,imi);
  pref.setKey(imi.getId());
  pref.setTitle(label);
  return pref;
}
