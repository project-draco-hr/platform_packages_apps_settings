{
  super.onResume();
  mSettingsObserver.resume();
  mIm.registerInputDeviceListener(this,null);
  if (!mIsOnlyImeSettings) {
    if (mLanguagePref != null) {
      String localeName=getLocaleName(getResources());
      mLanguagePref.setSummary(localeName);
    }
    updateUserDictionaryPreference(findPreference(KEY_USER_DICTIONARY_SETTINGS));
    if (SHOW_INPUT_METHOD_SWITCHER_SETTINGS) {
      mShowInputMethodSelectorPref.setOnPreferenceChangeListener(this);
    }
  }
  if (!mHardKeyboardPreferenceList.isEmpty()) {
    for (int i=0; i < sHardKeyboardKeys.length; ++i) {
      CheckBoxPreference chkPref=(CheckBoxPreference)mHardKeyboardCategory.findPreference(sHardKeyboardKeys[i]);
      chkPref.setChecked(System.getInt(getContentResolver(),sSystemSettingNames[i],1) > 0);
    }
  }
  updateInputDevices();
  mInputMethodSettingValues.refreshAllInputMethodAndSubtypes();
  updateInputMethodPreferenceViews();
}
