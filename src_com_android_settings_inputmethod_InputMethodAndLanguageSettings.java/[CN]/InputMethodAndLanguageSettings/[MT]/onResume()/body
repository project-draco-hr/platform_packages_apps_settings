{
  super.onResume();
  if (!mIsOnlyImeSettings) {
    if (mLanguagePref != null) {
      Configuration conf=getResources().getConfiguration();
      String locale=conf.locale.getDisplayName(conf.locale);
      if (locale != null && locale.length() > 1) {
        locale=Character.toUpperCase(locale.charAt(0)) + locale.substring(1);
        mLanguagePref.setSummary(locale);
      }
    }
    updateUserDictionaryPreference(findPreference(KEY_USER_DICTIONARY_SETTINGS));
    if (SHOW_INPUT_METHOD_SWITCHER_SETTINGS) {
      mShowInputMethodSelectorPref.setOnPreferenceChangeListener(this);
    }
  }
  if (!mHardKeyboardPreferenceList.isEmpty()) {
    for (int i=0; i < sHardKeyboardKeys.length; ++i) {
      CheckBoxPreference chkPref=(CheckBoxPreference)mHardKeyboardCategory.findPreference(sHardKeyboardKeys[i]);
      chkPref.setChecked(System.getInt(getContentResolver(),sSystemSettingNames[i],1) > 0);
    }
  }
  updateHardKeyboards();
  InputMethodAndSubtypeUtil.loadInputMethodSubtypeList(this,getContentResolver(),mImis,null);
  updateActiveInputMethodsSummary();
}
