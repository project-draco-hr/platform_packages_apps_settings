{
  final Activity activity=getActivity();
  final Set<String> localeList=UserDictionaryList.getUserDictionaryLocalesList(activity);
  if (null == localeList) {
    getPreferenceScreen().removePreference(userDictionaryPreference);
  }
 else   if (localeList.size() <= 1) {
    final Intent intent=new Intent(UserDictionaryList.USER_DICTIONARY_SETTINGS_INTENT_ACTION);
    userDictionaryPreference.setTitle(R.string.user_dict_single_settings_title);
    userDictionaryPreference.setIntent(intent);
    userDictionaryPreference.setFragment(com.android.settings.UserDictionarySettings.class.getName());
    if (localeList.size() == 1) {
      final String locale=(String)localeList.toArray()[0];
      userDictionaryPreference.getExtras().putString("locale",locale);
    }
  }
 else {
    userDictionaryPreference.setTitle(R.string.user_dict_multiple_settings_title);
    userDictionaryPreference.setFragment(UserDictionaryList.class.getName());
  }
}
