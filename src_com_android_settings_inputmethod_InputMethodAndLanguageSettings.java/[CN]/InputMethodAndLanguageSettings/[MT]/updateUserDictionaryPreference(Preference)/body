{
  final Activity activity=getActivity();
  final TreeSet<String> localeList=UserDictionaryList.getUserDictionaryLocalesSet(activity);
  if (null == localeList) {
    getPreferenceScreen().removePreference(userDictionaryPreference);
  }
 else   if (localeList.size() <= 1) {
    userDictionaryPreference.setFragment(com.android.settings.UserDictionarySettings.class.getName());
    if (localeList.size() == 1) {
      final String locale=(String)localeList.toArray()[0];
      userDictionaryPreference.getExtras().putString("locale",locale);
    }
  }
 else {
    userDictionaryPreference.setFragment(UserDictionaryList.class.getName());
  }
}
