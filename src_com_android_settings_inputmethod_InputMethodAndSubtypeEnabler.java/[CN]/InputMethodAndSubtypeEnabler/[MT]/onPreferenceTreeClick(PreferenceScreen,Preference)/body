{
  if (!(preference instanceof CheckBoxPreference)) {
    return super.onPreferenceTreeClick(preferenceScreen,preference);
  }
  final CheckBoxPreference chkPref=(CheckBoxPreference)preference;
  for (  final String imiId : mAutoSelectionPrefsMap.keySet()) {
    if (mAutoSelectionPrefsMap.get(imiId) == chkPref) {
      setAutoSelectionSubtypesEnabled(imiId,chkPref.isChecked());
      return super.onPreferenceTreeClick(preferenceScreen,preference);
    }
  }
  if (!chkPref.isChecked()) {
    updateAutoSelectionPreferences();
    return super.onPreferenceTreeClick(preferenceScreen,preference);
  }
  return super.onPreferenceTreeClick(preferenceScreen,preference);
}
