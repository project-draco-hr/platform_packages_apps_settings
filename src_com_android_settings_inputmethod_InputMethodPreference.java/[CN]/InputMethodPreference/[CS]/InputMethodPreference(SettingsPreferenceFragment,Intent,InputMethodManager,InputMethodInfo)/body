{
  super(fragment.getActivity());
  setLayoutResource(R.layout.preference_inputmethod);
  setWidgetLayoutResource(R.layout.preference_inputmethod_widget);
  mFragment=fragment;
  mSettingsIntent=settingsIntent;
  mImm=imm;
  mImi=imi;
  mIsSystemIme=InputMethodUtils.isSystemIme(imi);
  mCollator=Collator.getInstance(fragment.getResources().getConfiguration().locale);
  final Context context=fragment.getActivity();
  mIsValidSystemNonAuxAsciiCapableIme=InputMethodSettingValuesWrapper.getInstance(context).isValidSystemNonAuxAsciiCapableIme(imi,context);
  updatePreferenceViews();
}
