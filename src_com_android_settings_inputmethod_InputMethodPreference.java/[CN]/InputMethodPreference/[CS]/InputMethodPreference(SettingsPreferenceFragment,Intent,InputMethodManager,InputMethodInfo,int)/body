{
  super(fragment.getActivity(),null,R.style.InputMethodPreferenceStyle);
  setLayoutResource(R.layout.preference_inputmethod);
  setWidgetLayoutResource(R.layout.preference_inputmethod_widget);
  mFragment=fragment;
  mSettingsIntent=settingsIntent;
  mImm=imm;
  mImi=imi;
  updateSummary();
  mAlwaysChecked=InputMethodSettingValuesWrapper.getInstance(fragment.getActivity()).isAlwaysCheckedIme(imi,fragment.getActivity());
  mIsSystemIme=InputMethodUtils.isSystemIme(imi);
  if (mAlwaysChecked) {
    setEnabled(false);
  }
  mCollator=Collator.getInstance(fragment.getResources().getConfiguration().locale);
}
