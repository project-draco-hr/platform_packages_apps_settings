{
  super.onBindView(view);
  mInputMethodPref=view.findViewById(R.id.inputmethod_pref);
  mInputMethodPref.setOnClickListener(mPrefOnclickListener);
  mInputMethodSettingsButton=(ImageView)view.findViewById(R.id.inputmethod_settings);
  mTitleText=(TextView)view.findViewById(android.R.id.title);
  mSummaryText=(TextView)view.findViewById(android.R.id.summary);
  final boolean hasSubtypes=mImi.getSubtypeCount() > 1;
  final String imiId=mImi.getId();
  if (hasSubtypes) {
    mInputMethodPref.setOnLongClickListener(new OnLongClickListener(){
      @Override public boolean onLongClick(      View arg0){
        final Bundle bundle=new Bundle();
        bundle.putString(Settings.EXTRA_INPUT_METHOD_ID,imiId);
        startFragment(mFragment,InputMethodAndSubtypeEnabler.class.getName(),0,bundle);
        return true;
      }
    }
);
  }
  if (mSettingsIntent != null) {
    mInputMethodSettingsButton.setOnClickListener(new OnClickListener(){
      @Override public void onClick(      View arg0){
        try {
          mFragment.startActivity(mSettingsIntent);
        }
 catch (        ActivityNotFoundException e) {
          Log.d(TAG,"IME's Settings Activity Not Found: " + e);
          final String msg=mFragment.getString(R.string.failed_to_open_app_settings_toast,mImi.loadLabel(mFragment.getActivity().getPackageManager()));
          Toast.makeText(mFragment.getActivity(),msg,Toast.LENGTH_LONG).show();
        }
      }
    }
);
  }
  if (hasSubtypes) {
    final OnLongClickListener listener=new OnLongClickListener(){
      @Override public boolean onLongClick(      View arg0){
        final Bundle bundle=new Bundle();
        bundle.putString(Settings.EXTRA_INPUT_METHOD_ID,imiId);
        startFragment(mFragment,InputMethodAndSubtypeEnabler.class.getName(),0,bundle);
        return true;
      }
    }
;
    mInputMethodSettingsButton.setOnLongClickListener(listener);
  }
  if (mSettingsIntent == null) {
    mInputMethodSettingsButton.setVisibility(View.GONE);
  }
 else {
    updatePreferenceViews();
  }
}
