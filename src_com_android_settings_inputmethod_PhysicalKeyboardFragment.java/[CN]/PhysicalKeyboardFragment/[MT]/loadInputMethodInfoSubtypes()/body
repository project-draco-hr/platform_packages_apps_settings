{
  mImiSubtypes.clear();
  final List<InputMethodInfo> imis=mImm.getEnabledInputMethodList();
  for (  InputMethodInfo imi : imis) {
    final List<InputMethodSubtype> subtypes=new ArrayList<>();
    for (    InputMethodSubtype subtype : mImm.getEnabledInputMethodSubtypeList(imi,true)) {
      if (IM_SUBTYPE_MODE_KEYBOARD.equalsIgnoreCase(subtype.getMode())) {
        subtypes.add(subtype);
      }
    }
    mImiSubtypes.put(imi,subtypes);
  }
}
