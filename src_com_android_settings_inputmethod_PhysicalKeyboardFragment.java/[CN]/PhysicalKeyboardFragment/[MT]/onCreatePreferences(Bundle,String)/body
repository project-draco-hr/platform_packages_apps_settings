{
  Activity activity=Preconditions.checkNotNull(getActivity());
  addPreferencesFromResource(R.xml.physical_keyboard_settings);
  mIm=Preconditions.checkNotNull(activity.getSystemService(InputManager.class));
  mImm=Preconditions.checkNotNull(activity.getSystemService(InputMethodManager.class));
  mSettings=new InputMethodUtils.InputMethodSettings(activity.getResources(),getContentResolver(),new HashMap<String,InputMethodInfo>(),new ArrayList<InputMethodInfo>(),USER_SYSTEM);
  mKeyboardAssistanceCategory=Preconditions.checkNotNull((PreferenceCategory)findPreference(KEYBOARD_ASSISTANCE_CATEGORY));
  mShowVirtualKeyboardSwitch=Preconditions.checkNotNull((SwitchPreference)mKeyboardAssistanceCategory.findPreference(SHOW_VIRTUAL_KEYBOARD_SWITCH));
}
