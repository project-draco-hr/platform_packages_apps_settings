{
  Iterable<InjectedSetting> settings=getSettings(context);
  ArrayList<Preference> prefs=new ArrayList<Preference>();
  StatusLoader loader=null;
  for (  InjectedSetting setting : settings) {
    Preference pref=addServiceSetting(context,prefs,setting,preferenceManager);
    Intent intent=createUpdatingIntent(context,pref,setting,loader);
    loader=new StatusLoader(context,intent,loader);
  }
  if (loader != null) {
    loader.loadIfNotLoaded();
  }
  return prefs;
}
