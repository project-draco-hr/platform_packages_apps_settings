{
  TypedArray sa=res.obtainAttributes(attrs,android.R.styleable.SettingInjectorService);
  try {
    final String label=sa.getString(android.R.styleable.SettingInjectorService_title);
    final int iconId=sa.getResourceId(android.R.styleable.SettingInjectorService_icon,0);
    final String settingsActivity=sa.getString(android.R.styleable.SettingInjectorService_settingsActivity);
    if (Log.isLoggable(TAG,Log.DEBUG)) {
      Log.d(TAG,"parsed label: " + label + ", iconId: "+ iconId+ ", settingsActivity: "+ settingsActivity);
    }
    return InjectedSetting.newInstance(packageName,className,label,iconId,settingsActivity);
  }
  finally {
    sa.recycle();
  }
}
