{
  mContext=context;
  mSwitch=switchPreference;
  mAndroidBeam=androidBeam;
  mNfcAdapter=NfcAdapter.getDefaultAdapter(context);
  if (mNfcAdapter == null) {
    mSwitch.setEnabled(false);
    mAndroidBeam.setEnabled(false);
    mIntentFilter=null;
    return;
  }
  mIntentFilter=new IntentFilter(NfcAdapter.ACTION_ADAPTER_STATE_CHANGED);
}
