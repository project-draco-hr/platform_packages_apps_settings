{
  mBlock=new RestrictedSwitchPreference(getPrefContext());
  mBlock.setDisabledByAdmin(RestrictedLockUtils.checkIfApplicationIsSuspended(mContext,mPkg,mUserId));
  mBlock.setOnPreferenceChangeListener(new OnPreferenceChangeListener(){
    @Override public boolean onPreferenceChange(    Preference preference,    Object newValue){
      final boolean banned=(Boolean)newValue;
      if (banned) {
        MetricsLogger.action(getActivity(),MetricsEvent.ACTION_BAN_APP_NOTES,mPkg);
      }
      final boolean success=mBackend.setNotificationsBanned(mPkg,mUid,banned);
      if (success) {
        updateDependents(banned);
      }
      return success;
    }
  }
);
  mBlock.setKey(KEY_BLOCK);
  mBlock.setTitle(R.string.app_notification_block_title);
  mBlock.setSummary(R.string.app_notification_block_summary);
  getPreferenceScreen().addPreference(mBlock);
  mBlock.setChecked(mAppRow.banned);
  updateDependents(mAppRow.banned);
}
