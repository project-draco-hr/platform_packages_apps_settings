{
  super(context);
  final int[] days=ZenModeConfig.tryParseDays(mode);
  if (days != null) {
    for (int i=0; i < days.length; i++) {
      mDays.put(days[i],true);
    }
  }
  setOrientation(VERTICAL);
  final Calendar c=Calendar.getInstance();
  final LayoutInflater inflater=LayoutInflater.from(context);
  for (int i=0; i < DAYS.length; i++) {
    final int day=DAYS[i];
    final CheckBox checkBox=(CheckBox)inflater.inflate(R.layout.zen_downtime_day,this,false);
    c.set(Calendar.DAY_OF_WEEK,day);
    checkBox.setText(DAY_FORMAT.format(c.getTime()));
    checkBox.setChecked(mDays.get(day));
    checkBox.setOnCheckedChangeListener(new OnCheckedChangeListener(){
      @Override public void onCheckedChanged(      CompoundButton buttonView,      boolean isChecked){
        mDays.put(day,isChecked);
        onChanged(getMode());
      }
    }
);
    addView(checkBox);
  }
}
