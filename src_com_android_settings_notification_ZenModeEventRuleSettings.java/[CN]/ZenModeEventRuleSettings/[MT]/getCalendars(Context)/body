{
  final String primary="\"primary\"";
  final String[] projection={Calendars._ID,Calendars.CALENDAR_DISPLAY_NAME,"(" + Calendars.ACCOUNT_NAME + "="+ Calendars.OWNER_ACCOUNT+ ") AS "+ primary};
  final String selection=primary + " = 1";
  Cursor cursor=null;
  try {
    cursor=context.getContentResolver().query(Calendars.CONTENT_URI,projection,selection,null,null);
    if (cursor == null) {
      return new CalendarInfo[0];
    }
    final CalendarInfo[] rt=new CalendarInfo[cursor.getCount()];
    int i=0;
    while (cursor.moveToNext()) {
      final CalendarInfo ci=new CalendarInfo();
      ci.id=cursor.getLong(0);
      ci.name=cursor.getString(1);
      rt[i++]=ci;
    }
    return rt;
  }
  finally {
    if (cursor != null) {
      cursor.close();
    }
  }
}
