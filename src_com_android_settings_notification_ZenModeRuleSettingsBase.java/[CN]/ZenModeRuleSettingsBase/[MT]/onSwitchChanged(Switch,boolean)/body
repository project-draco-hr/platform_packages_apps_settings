{
  if (DEBUG)   Log.d(TAG,"onSwitchChanged " + isChecked);
  if (mDisableListeners)   return;
  final boolean enabled=isChecked;
  if (enabled == mRule.enabled)   return;
  if (DEBUG)   Log.d(TAG,"onSwitchChanged enabled=" + enabled);
  mRule.enabled=enabled;
  mRule.snoozing=false;
  setZenModeConfig(mConfig);
  if (enabled) {
    final int toastText=getEnabledToastText();
    if (toastText != 0) {
      mEnabledToast=Toast.makeText(mContext,toastText,Toast.LENGTH_SHORT);
      mEnabledToast.show();
    }
  }
 else {
    if (mEnabledToast != null) {
      mEnabledToast.cancel();
    }
  }
}
