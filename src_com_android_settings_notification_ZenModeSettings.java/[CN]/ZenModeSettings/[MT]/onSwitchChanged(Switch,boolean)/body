{
  if (DEBUG)   Log.d(TAG,"onPreferenceChange isChecked=" + isChecked + " mIgnoreNext="+ mIgnoreNext);
  if (mIgnoreNext) {
    mIgnoreNext=false;
  }
  AsyncTask.execute(new Runnable(){
    @Override public void run(){
      final int v=isChecked ? Global.ZEN_MODE_ON : Global.ZEN_MODE_OFF;
      putZenModeSetting(v);
      final int n=ConditionProviderSettings.getEnabledProviderCount(mContext);
      if (SHOW_CONDITION_DIALOG && n > 0) {
        mHandler.post(isChecked ? mShowDialog : mHideDialog);
      }
    }
  }
);
}
