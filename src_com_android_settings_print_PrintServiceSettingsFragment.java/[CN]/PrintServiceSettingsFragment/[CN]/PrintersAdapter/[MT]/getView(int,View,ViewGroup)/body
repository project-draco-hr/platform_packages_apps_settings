{
  if (convertView == null) {
    convertView=getActivity().getLayoutInflater().inflate(R.layout.preference,parent,false);
  }
  PrinterInfo printer=(PrinterInfo)getItem(position);
  CharSequence title=printer.getName();
  CharSequence subtitle=null;
  try {
    PackageInfo packageInfo=getPackageManager().getPackageInfo(printer.getId().getServiceName().getPackageName(),0);
    subtitle=packageInfo.applicationInfo.loadLabel(getPackageManager());
  }
 catch (  NameNotFoundException nnfe) {
  }
  TextView titleView=(TextView)convertView.findViewById(android.R.id.title);
  titleView.setText(title);
  TextView subtitleView=(TextView)convertView.findViewById(android.R.id.summary);
  if (!TextUtils.isEmpty(subtitle)) {
    subtitleView.setText(subtitle);
    subtitleView.setVisibility(View.VISIBLE);
  }
 else {
    subtitleView.setText(null);
    subtitleView.setVisibility(View.GONE);
  }
  return convertView;
}
