{
  AlertDialog.Builder builder=new AlertDialog.Builder(getActivity());
  final View dialogLayout=getActivity().getLayoutInflater().inflate(R.layout.multi_sim_dialog,null);
  builder.setView(dialogLayout);
  EditText nameText=(EditText)dialogLayout.findViewById(R.id.sim_name);
  nameText.setText(mSubInfoRecord.displayName);
  TextView numberView=(TextView)dialogLayout.findViewById(R.id.number);
  numberView.setText(mSubInfoRecord.number);
  TextView carrierView=(TextView)dialogLayout.findViewById(R.id.carrier);
  carrierView.setText(mSubInfoRecord.displayName);
  builder.setTitle(R.string.sim_editor_title);
  builder.setPositiveButton(R.string.okay,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int whichButton){
      final EditText nameText=(EditText)dialogLayout.findViewById(R.id.sim_name);
      final Spinner displayNumbers=(Spinner)dialogLayout.findViewById(R.id.display_numbers);
      SubscriptionManager.setDisplayNumberFormat(displayNumbers.getSelectedItemPosition() == 0 ? SubscriptionManager.DISPLAY_NUMBER_LAST : SubscriptionManager.DISPLAY_NUMBER_FIRST,mSubInfoRecord.subId);
      mSubInfoRecord.displayName=nameText.getText().toString();
      SubscriptionManager.setDisplayName(mSubInfoRecord.displayName,mSubInfoRecord.subId);
      updateAllOptions();
      update();
    }
  }
);
  builder.setNegativeButton(R.string.cancel,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int whichButton){
      dialog.dismiss();
    }
  }
);
  builder.create().show();
}
