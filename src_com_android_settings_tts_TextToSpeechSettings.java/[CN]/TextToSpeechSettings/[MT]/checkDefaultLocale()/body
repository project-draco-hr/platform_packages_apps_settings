{
  Locale defaultLocale=mTts.getDefaultLanguage();
  if (defaultLocale == null) {
    Log.e(TAG,"Failed to get default language from engine " + mCurrentEngine);
    updateWidgetState(false);
    updateEngineStatus(R.string.tts_status_not_supported);
    return;
  }
  mCurrentDefaultLocale=defaultLocale;
  int defaultAvailable=mTts.setLanguage(defaultLocale);
  if (defaultAvailable == TextToSpeech.LANG_NOT_SUPPORTED) {
    if (DBG)     Log.d(TAG,"Default locale for this TTS engine is not supported.");
    updateWidgetState(false);
    updateEngineStatus(R.string.tts_status_not_supported);
  }
 else {
    if (isNetworkRequiredForSynthesis()) {
      updateEngineStatus(R.string.tts_status_requires_network);
    }
 else {
      updateEngineStatus(R.string.tts_status_ok);
    }
    getSampleText();
  }
}
