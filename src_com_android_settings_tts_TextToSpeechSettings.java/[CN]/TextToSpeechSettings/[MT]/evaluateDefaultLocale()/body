{
  if (mCurrentDefaultLocale == null) {
    return false;
  }
  int defaultAvailable=mTts.setLanguage(mCurrentDefaultLocale);
  String defaultLocaleStr=mCurrentDefaultLocale.getISO3Language();
  boolean notInAvailableLangauges=true;
  if (!TextUtils.isEmpty(mCurrentDefaultLocale.getISO3Country())) {
    defaultLocaleStr+="-" + mCurrentDefaultLocale.getISO3Country();
  }
  if (!TextUtils.isEmpty(mCurrentDefaultLocale.getVariant())) {
    defaultLocaleStr+="-" + mCurrentDefaultLocale.getVariant();
  }
  if (mAvailableStrLocals != null) {
    for (    String loc : mAvailableStrLocals) {
      if (loc.equalsIgnoreCase(defaultLocaleStr)) {
        notInAvailableLangauges=false;
        break;
      }
    }
  }
  if (defaultAvailable == TextToSpeech.LANG_NOT_SUPPORTED || defaultAvailable == TextToSpeech.LANG_MISSING_DATA || mAvailableStrLocals == null || notInAvailableLangauges) {
    if (DBG)     Log.d(TAG,"Default locale for this TTS engine is not supported.");
    updateEngineStatus(R.string.tts_status_not_supported);
    updateWidgetState(false);
    return false;
  }
 else {
    if (isNetworkRequiredForSynthesis()) {
      updateEngineStatus(R.string.tts_status_requires_network);
    }
 else {
      updateEngineStatus(R.string.tts_status_ok);
    }
    updateWidgetState(true);
    return true;
  }
}
