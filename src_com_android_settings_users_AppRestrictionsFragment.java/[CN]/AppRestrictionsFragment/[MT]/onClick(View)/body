{
  if (v.getTag() instanceof AppRestrictionsPreference) {
    AppRestrictionsPreference pref=(AppRestrictionsPreference)v.getTag();
    if (v.getId() == R.id.app_restrictions_settings) {
      handleSettingsClick(pref);
    }
 else     if (!pref.isRequired()) {
      pref.setChecked(!pref.isChecked());
      mSelectedPackages.put(pref.getKey().substring(PKG_PREFIX.length()),pref.isChecked());
    }
  }
}
