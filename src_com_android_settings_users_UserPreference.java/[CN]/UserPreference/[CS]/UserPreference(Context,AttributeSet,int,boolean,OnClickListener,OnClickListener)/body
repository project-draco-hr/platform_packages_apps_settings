{
  super(context,attrs);
  if (showOptions) {
    setWidgetLayoutResource(R.layout.preference_user_delete_widget);
    mDeleteClickListener=deleteListener;
    mSettingsClickListener=settingsListener;
  }
  mUserId=userId;
  if (mUserId > UserHandle.USER_OWNER) {
    mRestricted=((UserManager)getContext().getSystemService(Context.USER_SERVICE)).getUserInfo(mUserId).isRestricted();
  }
  setSummary(mRestricted ? R.string.user_limited : R.string.user_trusted);
}
