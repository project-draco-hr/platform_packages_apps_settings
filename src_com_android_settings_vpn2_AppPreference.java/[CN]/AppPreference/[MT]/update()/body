{
  final String[] states=getContext().getResources().getStringArray(R.array.vpn_states);
  setSummary(mState != STATE_DISCONNECTED ? states[mState] : "");
  mName=mPackageName;
  Drawable icon=null;
  try {
    Context userContext=getUserContext();
    PackageManager pm=userContext.getPackageManager();
    try {
      PackageInfo pkgInfo=pm.getPackageInfo(mPackageName,0);
      if (pkgInfo != null) {
        icon=pkgInfo.applicationInfo.loadIcon(pm);
        mName=VpnConfig.getVpnLabel(userContext,mPackageName).toString();
      }
    }
 catch (    PackageManager.NameNotFoundException pkgNotFound) {
    }
    if (icon == null) {
      icon=pm.getDefaultActivityIcon();
    }
  }
 catch (  PackageManager.NameNotFoundException userNotFound) {
  }
  setTitle(mName);
  setIcon(icon);
  notifyHierarchyChanged();
}
