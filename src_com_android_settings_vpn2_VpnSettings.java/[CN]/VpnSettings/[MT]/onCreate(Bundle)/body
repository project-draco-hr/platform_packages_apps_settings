{
  super.onCreate(savedState);
  setHasOptionsMenu(true);
  addPreferencesFromResource(R.xml.vpn_settings2);
  final boolean pickLockdown=getActivity().getIntent().getBooleanExtra(EXTRA_PICK_LOCKDOWN,false);
  if (pickLockdown) {
    LockdownConfigFragment.show(this);
  }
  if (savedState != null) {
    VpnProfile profile=VpnProfile.decode(savedState.getString("VpnKey"),savedState.getByteArray("VpnProfile"));
    if (profile != null) {
      mDialog=new VpnDialog(getActivity(),this,profile,savedState.getBoolean("VpnEditing"));
    }
  }
}
