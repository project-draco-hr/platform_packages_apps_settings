{
  if (needKeystoreToConnect(p)) {
    Runnable action=new Runnable(){
      public void run(){
        connect(p);
      }
    }
;
    if (!unlockKeystore(p,action))     return;
  }
  mConnectingActor=getActor(p);
  mActiveProfile=p;
  if (!checkSecrets(p))   return;
  if (mConnectingActor.isConnectDialogNeeded()) {
    showDialog(DIALOG_CONNECT);
  }
 else {
    changeState(p,VpnState.CONNECTING);
    mConnectingActor.connect(null);
  }
}
