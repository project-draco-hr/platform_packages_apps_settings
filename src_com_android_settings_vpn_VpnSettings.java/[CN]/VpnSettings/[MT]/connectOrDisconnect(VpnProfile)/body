{
  VpnPreference pref=mVpnPreferenceMap.get(p.getName());
switch (p.getState()) {
case IDLE:
    mConnectingActor=getActor(new VpnProfileWrapper(p));
  if (mConnectingActor.isConnectDialogNeeded()) {
    showDialog(0);
  }
 else {
    changeState(p,VpnState.CONNECTING);
    mConnectingActor.connect(null);
  }
break;
case CONNECTING:
break;
case CONNECTED:
mConnectingError=false;
case DISCONNECTING:
changeState(p,VpnState.DISCONNECTING);
getActor(p).disconnect();
break;
}
}
