{
  super.showDialog(dialogId);
  if (dialogId == DIALOG_CONNECT) {
    mConnectDialogShowing=true;
    setOnDismissListener(new DialogInterface.OnDismissListener(){
      public void onDismiss(      DialogInterface dialog){
        mConnectDialogShowing=false;
      }
    }
);
  }
  setOnCancelListener(new DialogInterface.OnCancelListener(){
    public void onCancel(    DialogInterface dialog){
      if (mActiveProfile != null) {
        changeState(mActiveProfile,VpnState.IDLE);
      }
      onIdle();
    }
  }
);
}
