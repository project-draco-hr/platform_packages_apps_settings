{
  if (LOGD)   Log.d(TAG,"generatePath()");
  mPathStroke.reset();
  mPathFill.reset();
  if (mStats == null || mStats.size() < 2)   return;
  final int width=getWidth();
  final int height=getHeight();
  boolean started=false;
  float firstX=0;
  float lastX=0;
  float lastY=0;
  long totalData=0;
  NetworkStatsHistory.Entry entry=null;
  for (int i=0; i < mStats.size(); i++) {
    entry=mStats.getValues(i,entry);
    final float x=mHoriz.convertToPoint(entry.bucketStart);
    final float y=mVert.convertToPoint(totalData);
    if (i > 0 && !started && x > 0) {
      mPathStroke.moveTo(lastX,lastY);
      mPathFill.moveTo(lastX,lastY);
      started=true;
      firstX=x;
    }
    if (started) {
      mPathStroke.lineTo(x,y);
      mPathFill.lineTo(x,y);
      totalData+=entry.rxBytes + entry.txBytes;
    }
    if (x > width)     break;
    lastX=x;
    lastY=y;
  }
  if (LOGD) {
    final RectF bounds=new RectF();
    mPathFill.computeBounds(bounds,true);
    Log.d(TAG,"onLayout() rendered with bounds=" + bounds.toString() + " and totalData="+ totalData);
  }
  mPathFill.lineTo(lastX,height);
  mPathFill.lineTo(firstX,height);
}
