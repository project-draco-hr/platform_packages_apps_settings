{
  try {
    IHardwareService hardware=IHardwareService.Stub.asInterface(ServiceManager.getService("hardware"));
    if (hardware != null) {
      ContentResolver cr=context.getContentResolver();
      int brightness=Settings.System.getInt(cr,Settings.System.SCREEN_BRIGHTNESS);
      if (brightness < DEFAULT_BACKLIGHT) {
        brightness=DEFAULT_BACKLIGHT;
      }
 else       if (brightness < MAXIMUM_BACKLIGHT) {
        brightness=MAXIMUM_BACKLIGHT;
      }
 else {
        brightness=MINIMUM_BACKLIGHT;
      }
      hardware.setBacklights(brightness);
      Settings.System.putInt(cr,Settings.System.SCREEN_BRIGHTNESS,brightness);
      brightness=Settings.System.getInt(cr,Settings.System.SCREEN_BRIGHTNESS);
    }
  }
 catch (  RemoteException e) {
    Log.d(TAG,"toggleBrightness: " + e);
  }
catch (  Settings.SettingNotFoundException e) {
    Log.d(TAG,"toggleBrightness: " + e);
  }
}
