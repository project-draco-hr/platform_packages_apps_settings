{
  final int layoutWidth=right - left;
  final int layoutHeight=bottom - top;
  if (mForeground != null) {
    mScale=layoutWidth / (float)mForeground.getIntrinsicWidth();
    mForegroundHeight=(int)(mForeground.getIntrinsicHeight() * mScale);
    mForeground.setBounds(0,0,layoutWidth,mForegroundHeight);
  }
  if (mBackground != null) {
    mBackground.setBounds(0,0,(int)(layoutWidth / mScale),(int)((layoutHeight - mForegroundHeight) / mScale));
  }
  super.onLayout(changed,left,top,right,bottom);
}
