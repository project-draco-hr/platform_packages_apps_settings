{
  setTitle(ssid);
  final Context context=getContext();
  updateIcon(getLevel(),context);
  StringBuilder summary=new StringBuilder();
  if (mState != null) {
    summary.append(Summary.get(context,mState));
  }
 else   if (mConfig != null && ((mConfig.status == WifiConfiguration.Status.DISABLED && mConfig.disableReason != WifiConfiguration.DISABLED_UNKNOWN_REASON) || mConfig.autoJoinStatus >= WifiConfiguration.AUTO_JOIN_DISABLED_ON_AUTH_FAILURE)) {
    if (mConfig.autoJoinStatus >= WifiConfiguration.AUTO_JOIN_DISABLED_ON_AUTH_FAILURE) {
      summary.append(context.getString(R.string.wifi_disabled_password_failure));
    }
 else {
switch (mConfig.disableReason) {
case WifiConfiguration.DISABLED_AUTH_FAILURE:
        summary.append(context.getString(R.string.wifi_disabled_password_failure));
      break;
case WifiConfiguration.DISABLED_DHCP_FAILURE:
case WifiConfiguration.DISABLED_DNS_FAILURE:
    summary.append(context.getString(R.string.wifi_disabled_network_failure));
  break;
case WifiConfiguration.DISABLED_UNKNOWN_REASON:
summary.append(context.getString(R.string.wifi_disabled_generic));
}
}
}
 else if (mRssi == Integer.MAX_VALUE) {
summary.append(context.getString(R.string.wifi_not_in_range));
}
 else {
if (mConfig != null) {
summary.append(context.getString(R.string.wifi_remembered));
}
if (security != SECURITY_NONE) {
String securityStrFormat;
if (summary.length() == 0) {
securityStrFormat=context.getString(R.string.wifi_secured_first_item);
}
 else {
securityStrFormat=context.getString(R.string.wifi_secured_second_item);
}
}
}
if (WifiSettings.mVerboseLogging > 0) {
if (mInfo != null && mState != null) {
summary.append(" (f=" + Integer.toString(mInfo.getFrequency()) + ")");
}
summary.append(" " + getVisibilityStatus());
if (mConfig != null && mConfig.autoJoinStatus > 0) {
summary.append(" (" + mConfig.autoJoinStatus);
if (mConfig.blackListTimestamp > 0) {
long now=System.currentTimeMillis();
long diff=(now - mConfig.blackListTimestamp) / 1000;
long sec=diff % 60;
long min=(diff / 60) % 60;
long hour=(min / 60) % 60;
summary.append(", ");
if (hour > 0) summary.append(Long.toString(hour) + "h ");
summary.append(Long.toString(min) + "m ");
summary.append(Long.toString(sec) + "s ");
}
summary.append(")");
}
}
setSummary(summary.toString());
}
