{
  if (!replaceStateWithWifiLayerInstance()) {
    Log.w(TAG,"Assuming connecting to a new network.");
  }
  if (mState.isEnterprise()) {
    if (!mState.configured) {
      updateEnterpriseFields(AccessPointState.WPA_EAP.equals(mState.security) ? SECURITY_WPA_EAP : SECURITY_IEEE8021X);
    }
  }
  updatePasswordField();
  mWifiLayer.connectToNetwork(mState);
}
