{
  ListPreference pref=(ListPreference)findPreference(KEY_SLEEP_POLICY);
  pref.setOnPreferenceChangeListener(this);
  int value=Settings.System.getInt(getContentResolver(),Settings.System.WIFI_SLEEP_POLICY,Settings.System.WIFI_SLEEP_POLICY_DEFAULT);
  pref.setValue(String.valueOf(value));
  pref=(ListPreference)findPreference(KEY_FREQUENCY_BAND);
  if (mWifiManager.isDualBandSupported()) {
    pref.setOnPreferenceChangeListener(this);
    value=mWifiManager.getFrequencyBand();
    if (value != -1) {
      pref.setValue(String.valueOf(value));
    }
 else {
      Log.e(TAG,"Failed to fetch frequency band");
    }
  }
 else {
    getPreferenceScreen().removePreference(pref);
  }
}
