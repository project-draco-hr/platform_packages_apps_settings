{
  PreferenceScreen preferenceScreen=getPreferenceScreen();
  final Context context=getActivity();
  final List<AccessPoint> accessPoints=WifiTracker.getCurrentAccessPoints(context,true,false);
  preferenceScreen.removeAll();
  PackageManager pm=context.getPackageManager();
  String systemName=pm.getNameForUid(android.os.Process.SYSTEM_UID);
  final int accessPointsSize=accessPoints.size();
  for (int i=0; i < accessPointsSize; ++i) {
    AccessPointPreference preference=new AccessPointPreference(accessPoints.get(i),context);
    WifiConfiguration config=accessPoints.get(i).getConfig();
    if (config != null) {
      int userId=UserHandle.getUserId(config.creatorUid);
      ApplicationInfo appInfo=null;
      if (config.creatorName != null && config.creatorName.equals(systemName)) {
        appInfo=context.getApplicationInfo();
      }
 else {
        try {
          IPackageManager ipm=AppGlobals.getPackageManager();
          appInfo=ipm.getApplicationInfo(config.creatorName,0,userId);
        }
 catch (        RemoteException rex) {
        }
      }
      if (appInfo != null) {
        preference.setSummary(getResources().getString(appInfo.labelRes));
      }
    }
 else {
      preference.setShowSummary(false);
    }
    preferenceScreen.addPreference(preference);
  }
  if (getPreferenceScreen().getPreferenceCount() < 1) {
    Log.w(TAG,"Saved networks activity loaded, but there are no saved networks!");
  }
}
