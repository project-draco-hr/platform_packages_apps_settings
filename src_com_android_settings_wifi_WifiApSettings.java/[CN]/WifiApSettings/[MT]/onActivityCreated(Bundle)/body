{
  super.onActivityCreated(savedInstanceState);
  final Activity activity=getActivity();
  mWifiManager=(WifiManager)getSystemService(Context.WIFI_SERVICE);
  mWifiConfig=mWifiManager.getWifiApConfiguration();
  mSecurityType=getResources().getStringArray(R.array.wifi_ap_security);
  mCreateNetwork=findPreference(WIFI_AP_SSID_AND_SECURITY);
  mEnableWifiAp=(CheckBoxPreference)findPreference(ENABLE_WIFI_AP);
  mWifiApEnabler=new WifiApEnabler(activity,mEnableWifiAp);
  if (mWifiConfig == null) {
    final String s=activity.getString(com.android.internal.R.string.wifi_tether_configure_ssid_default);
    mCreateNetwork.setSummary(String.format(activity.getString(CONFIG_SUBTEXT),s,mSecurityType[OPEN_INDEX]));
  }
 else {
    mCreateNetwork.setSummary(String.format(activity.getString(CONFIG_SUBTEXT),mWifiConfig.SSID,mWifiConfig.allowedKeyManagement.get(KeyMgmt.WPA_PSK) ? mSecurityType[WPA_INDEX] : mSecurityType[OPEN_INDEX]));
  }
}
