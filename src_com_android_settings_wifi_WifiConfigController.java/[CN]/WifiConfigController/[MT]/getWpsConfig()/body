{
  Wps config=new Wps();
switch (mNetworkSetupSpinner.getSelectedItemPosition()) {
case WPS_PBC:
    config.setup=Setup.PBC;
  break;
case WPS_KEYPAD:
config.setup=Setup.KEYPAD;
break;
case WPS_DISPLAY:
config.setup=Setup.DISPLAY;
break;
default :
config.setup=Setup.INVALID;
Log.e(TAG,"WPS not selected type");
return config;
}
config.pin=((TextView)mView.findViewById(R.id.wps_pin)).getText().toString();
config.BSSID=(mAccessPoint != null) ? mAccessPoint.bssid : null;
config.proxySettings=mProxySettings;
config.ipAssignment=mIpAssignment;
config.linkProperties=new LinkProperties(mLinkProperties);
return config;
}
