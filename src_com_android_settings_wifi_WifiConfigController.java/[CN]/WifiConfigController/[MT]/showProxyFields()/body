{
  WifiConfiguration config=null;
  mView.findViewById(R.id.proxy_settings_fields).setVisibility(View.VISIBLE);
  if (mAccessPoint != null && mAccessPoint.networkId != INVALID_NETWORK_ID) {
    config=mAccessPoint.getConfig();
  }
  if (mProxySettingsSpinner.getSelectedItemPosition() == PROXY_STATIC) {
    mView.findViewById(R.id.proxy_warning_limited_support).setVisibility(View.VISIBLE);
    mView.findViewById(R.id.proxy_fields).setVisibility(View.VISIBLE);
    if (mProxyHostView == null) {
      mProxyHostView=(TextView)mView.findViewById(R.id.proxy_hostname);
      mProxyHostView.addTextChangedListener(this);
      mProxyPortView=(TextView)mView.findViewById(R.id.proxy_port);
      mProxyPortView.addTextChangedListener(this);
      mProxyExclusionListView=(TextView)mView.findViewById(R.id.proxy_exclusionlist);
      mProxyExclusionListView.addTextChangedListener(this);
    }
    if (config != null) {
      ProxyInfo proxyProperties=config.getLinkProperties().getHttpProxy();
      if (proxyProperties != null) {
        mProxyHostView.setText(proxyProperties.getHost());
        mProxyPortView.setText(Integer.toString(proxyProperties.getPort()));
        mProxyExclusionListView.setText(proxyProperties.getExclusionListAsString());
      }
    }
  }
 else {
    mView.findViewById(R.id.proxy_warning_limited_support).setVisibility(View.GONE);
    mView.findViewById(R.id.proxy_fields).setVisibility(View.GONE);
  }
}
