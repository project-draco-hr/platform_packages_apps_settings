{
  mActivity=activity;
  mConnectButton=(Button)activity.findViewById(R.id.wifi_setup_connect);
  mForgetButton=(Button)activity.findViewById(R.id.wifi_setup_forget);
  mCancelButton=(Button)activity.findViewById(R.id.wifi_setup_cancel);
  mAccessPoint=accessPoint;
  mEdit=edit;
  mInflater=(LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  mView=mInflater.inflate(R.layout.wifi_config_ui_for_setup_wizard,parent,false);
  mController=new WifiConfigController(this,mView,mAccessPoint,edit);
  final View viewToBeFocused=mView.findViewById(R.id.password);
  if (viewToBeFocused != null && viewToBeFocused.getVisibility() == View.VISIBLE && viewToBeFocused instanceof EditText) {
    viewToBeFocused.setOnFocusChangeListener(this);
    final boolean requestFocusResult=viewToBeFocused.requestFocus();
    Log.i(TAG,String.format("Focus request  %s.",(requestFocusResult ? "successful" : "failed")));
    if (!requestFocusResult) {
      viewToBeFocused.setOnFocusChangeListener(null);
    }
  }
}
