{
  if (mSwitch == switch_)   return;
  mSwitch.setOnCheckedChangeListener(null);
  mSwitch=switch_;
  mSwitch.setOnCheckedChangeListener(this);
  final int wifiState=mWifiManager.getWifiState();
  boolean isEnabled=wifiState == WifiManager.WIFI_STATE_ENABLED;
  boolean isDisabled=wifiState == WifiManager.WIFI_STATE_DISABLED;
  mSwitch.setChecked(isEnabled);
  mSwitch.setEnabled(isEnabled || isDisabled);
}
