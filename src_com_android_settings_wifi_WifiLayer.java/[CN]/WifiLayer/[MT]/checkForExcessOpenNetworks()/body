{
synchronized (this) {
    ArrayList<AccessPointState> allAps=getApsSortedByPriorityLocked();
    int openConfiguredCount=0;
    for (int i=allAps.size() - 1; i >= 0; i--) {
      AccessPointState state=allAps.get(i);
      if (state.configured && !state.hasSecurity()) {
        openConfiguredCount++;
        if (openConfiguredCount > WIFI_NUM_OPEN_NETWORKS_KEPT) {
          forgetNetwork(state);
        }
      }
    }
  }
}
