{
switch (msg.what) {
case AsyncChannel.CMD_CHANNEL_HALF_CONNECTED:
    if (msg.arg1 == AsyncChannel.STATUS_SUCCESSFUL) {
    }
 else {
      Log.e(TAG,"Failed to establish AsyncChannel connection");
    }
  break;
case WifiManager.CMD_WPS_COMPLETED:
WpsResult result=(WpsResult)msg.obj;
if (result == null) break;
AlertDialog.Builder dialog=new AlertDialog.Builder(getActivity()).setTitle(R.string.wifi_wps_setup_title).setPositiveButton(android.R.string.ok,null);
switch (result.status) {
case FAILURE:
dialog.setMessage(R.string.wifi_wps_failed);
dialog.show();
break;
case IN_PROGRESS:
dialog.setMessage(R.string.wifi_wps_in_progress);
dialog.show();
break;
default :
if (result.pin != null) {
dialog.setMessage(getResources().getString(R.string.wifi_wps_pin_output,result.pin));
dialog.show();
}
break;
}
break;
default :
break;
}
}
