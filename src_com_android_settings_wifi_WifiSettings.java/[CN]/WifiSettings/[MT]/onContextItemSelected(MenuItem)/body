{
  if (mSelectedAccessPoint == null) {
    return super.onContextItemSelected(item);
  }
switch (item.getItemId()) {
case MENU_ID_CONNECT:
{
      if (mSelectedAccessPoint.networkId != INVALID_NETWORK_ID) {
        mWifiManager.connect(mSelectedAccessPoint.networkId,mConnectListener);
      }
 else       if (mSelectedAccessPoint.security == AccessPoint.SECURITY_NONE) {
        mSelectedAccessPoint.generateOpenNetworkConfig();
        mWifiManager.connect(mSelectedAccessPoint.getConfig(),mConnectListener);
      }
 else {
        showDialog(mSelectedAccessPoint,true);
      }
      return true;
    }
case MENU_ID_FORGET:
{
    mWifiManager.forget(mSelectedAccessPoint.networkId,mForgetListener);
    return true;
  }
case MENU_ID_MODIFY:
{
  showDialog(mSelectedAccessPoint,true);
  return true;
}
case MENU_ID_WRITE_NFC:
showDialog(WRITE_NFC_DIALOG_ID);
return true;
}
return super.onContextItemSelected(item);
}
