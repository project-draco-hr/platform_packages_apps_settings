{
  if (mSelectedAccessPoint == null) {
    return super.onContextItemSelected(item);
  }
switch (item.getItemId()) {
case MENU_ID_CONNECT:
{
      if (mSelectedAccessPoint.networkId != INVALID_NETWORK_ID) {
        if (!requireKeyStore(mSelectedAccessPoint.getConfig())) {
          mWifiManager.connectNetwork(mSelectedAccessPoint.networkId);
        }
      }
 else       if (mSelectedAccessPoint.security == AccessPoint.SECURITY_NONE) {
        WifiConfiguration config=new WifiConfiguration();
        config.SSID=AccessPoint.convertToQuotedString(mSelectedAccessPoint.ssid);
        config.allowedKeyManagement.set(KeyMgmt.NONE);
        mWifiManager.connectNetwork(config);
      }
 else {
        showConfigUi(mSelectedAccessPoint,true);
      }
      return true;
    }
case MENU_ID_FORGET:
{
    mWifiManager.forgetNetwork(mSelectedAccessPoint.networkId);
    return true;
  }
case MENU_ID_MODIFY:
{
  showConfigUi(mSelectedAccessPoint,true);
  return true;
}
}
return super.onContextItemSelected(item);
}
