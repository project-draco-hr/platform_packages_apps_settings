{
  if (info instanceof AdapterContextMenuInfo) {
    Preference preference=(Preference)getListView().getItemAtPosition(((AdapterContextMenuInfo)info).position);
    if (preference instanceof AccessPoint) {
      mSelectedAccessPoint=(AccessPoint)preference;
      menu.setHeaderTitle(mSelectedAccessPoint.ssid);
      if (mSelectedAccessPoint.getLevel() != -1 && mSelectedAccessPoint.getState() == null) {
        menu.add(Menu.NONE,MENU_ID_CONNECT,0,R.string.wifi_menu_connect);
      }
      if (mSelectedAccessPoint.networkId != INVALID_NETWORK_ID) {
        menu.add(Menu.NONE,MENU_ID_FORGET,0,R.string.wifi_menu_forget);
        menu.add(Menu.NONE,MENU_ID_MODIFY,0,R.string.wifi_menu_modify);
      }
    }
  }
}
