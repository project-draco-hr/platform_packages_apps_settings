{
switch (item.getItemId()) {
case MENU_ID_SCAN:
    if (mWifiManager.isWifiEnabled()) {
      mScanner.forceScan();
    }
  return true;
case MENU_ID_ADD_NETWORK:
if (mWifiManager.isWifiEnabled()) {
  onAddNetworkPressed();
}
return true;
case MENU_ID_ADVANCED:
if (getActivity() instanceof PreferenceActivity) {
((PreferenceActivity)getActivity()).startPreferencePanel(AdvancedSettings.class.getCanonicalName(),null,R.string.wifi_advanced_titlebar,null,this,0);
}
 else {
startFragment(this,AdvancedSettings.class.getCanonicalName(),-1,null);
}
return true;
}
return super.onOptionsItemSelected(item);
}
