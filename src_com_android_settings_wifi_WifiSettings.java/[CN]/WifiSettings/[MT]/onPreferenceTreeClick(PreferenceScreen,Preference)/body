{
  if (preference instanceof AccessPoint) {
    mSelectedAccessPoint=(AccessPoint)preference;
    if (mSelectedAccessPoint.security == AccessPoint.SECURITY_NONE && mSelectedAccessPoint.networkId == INVALID_NETWORK_ID) {
      mSelectedAccessPoint.generateOpenNetworkConfig();
      mWifiManager.connect(mChannel,mSelectedAccessPoint.getConfig(),mConnectListener);
    }
 else {
      showConfigUi(mSelectedAccessPoint,false);
    }
  }
 else {
    return super.onPreferenceTreeClick(screen,preference);
  }
  return true;
}
