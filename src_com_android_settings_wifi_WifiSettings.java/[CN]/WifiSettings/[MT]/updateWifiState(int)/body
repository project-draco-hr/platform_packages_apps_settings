{
  Activity activity=getActivity();
  if (activity != null) {
    activity.invalidateOptionsMenu();
  }
switch (state) {
case WifiManager.WIFI_STATE_ENABLED:
    mScanner.resume();
  return;
case WifiManager.WIFI_STATE_ENABLING:
addMessagePreference(R.string.wifi_starting);
break;
case WifiManager.WIFI_STATE_DISABLED:
addMessagePreference(R.string.wifi_empty_list_wifi_off);
break;
}
mLastInfo=null;
mLastState=null;
mScanner.pause();
}
