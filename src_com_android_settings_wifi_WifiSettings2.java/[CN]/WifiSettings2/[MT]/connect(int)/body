{
  if (networkId == -1) {
    return;
  }
  if (mLastPriority > 1000000) {
    for (int i=mAccessPoints.getPreferenceCount() - 1; i >= 0; --i) {
      AccessPoint accessPoint=(AccessPoint)mAccessPoints.getPreference(i);
      if (accessPoint.networkId != -1) {
        WifiConfiguration config=new WifiConfiguration();
        config.networkId=accessPoint.networkId;
        config.priority=0;
        mWifiManager.updateNetwork(config);
      }
    }
    mLastPriority=0;
  }
  WifiConfiguration config=new WifiConfiguration();
  config.networkId=networkId;
  config.priority=++mLastPriority;
  mWifiManager.updateNetwork(config);
  saveNetworks();
  mWifiManager.enableNetwork(networkId,true);
  mWifiManager.reconnect();
  mResetNetworks=true;
}
