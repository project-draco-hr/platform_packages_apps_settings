{
  super();
  mFilter=new IntentFilter();
  mFilter.addAction(WifiManager.NETWORK_STATE_CHANGED_ACTION);
  mReceiver=new BroadcastReceiver(){
    @Override public void onReceive(    Context context,    Intent intent){
      NetworkInfo info=(NetworkInfo)intent.getParcelableExtra(WifiManager.EXTRA_NETWORK_INFO);
      if (mAutoFinishOnConnection && info.isConnected()) {
        Log.d(TAG,"mReceiver.onReceive context=" + context + " intent="+ intent);
        WifiSetupActivity activity=(WifiSetupActivity)getActivity();
        activity.finishOrNext(Activity.RESULT_OK);
      }
    }
  }
;
}
