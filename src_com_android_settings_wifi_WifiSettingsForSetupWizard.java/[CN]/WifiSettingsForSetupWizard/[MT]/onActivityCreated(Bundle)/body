{
  super.onActivityCreated(savedInstanceState);
  getView().setSystemUiVisibility(View.STATUS_BAR_DISABLE_HOME | View.STATUS_BAR_DISABLE_RECENT | View.STATUS_BAR_DISABLE_NOTIFICATION_ALERTS| View.STATUS_BAR_DISABLE_CLOCK);
  final Activity activity=getActivity();
  final Intent intent=activity.getIntent();
  mAutoFinishOnConnection=intent.getBooleanExtra(EXTRA_AUTO_FINISH_ON_CONNECT,false);
  if (mAutoFinishOnConnection) {
    if (hasNextButton()) {
      getNextButton().setVisibility(View.GONE);
    }
    final ConnectivityManager connectivity=(ConnectivityManager)activity.getSystemService(Context.CONNECTIVITY_SERVICE);
    if (connectivity != null && connectivity.getNetworkInfo(ConnectivityManager.TYPE_WIFI).isConnected()) {
      finishOrNext(Activity.RESULT_OK);
      return;
    }
  }
  mEnableNextOnConnection=intent.getBooleanExtra(EXTRA_ENABLE_NEXT_ON_CONNECT,false);
  if (mEnableNextOnConnection) {
    if (hasNextButton()) {
      final ConnectivityManager connectivity=(ConnectivityManager)activity.getSystemService(Context.CONNECTIVITY_SERVICE);
      if (connectivity != null) {
        NetworkInfo info=connectivity.getNetworkInfo(ConnectivityManager.TYPE_WIFI);
        changeNextButtonState(info.isConnected());
      }
    }
  }
}
