{
  trySetBackground(R.drawable.setups_bg_default);
  if (mScreenState == SCREEN_STATE_CONNECTING || mScreenState == SCREEN_STATE_CONNECTED) {
    if (DEBUG)     Log.d(TAG,"Back button pressed after connect action.");
    mScreenState=SCREEN_STATE_DISCONNECTED;
    restoreFirstButtonVisibilityState();
    mSkipOrNextButton.setEnabled(true);
    changeNextButtonState(false);
    mProgressBar.setIndeterminate(true);
    refreshAccessPoints(true);
  }
 else {
    mWifiSettings.resumeWifiScan();
    restoreFirstButtonVisibilityState();
    mAddNetworkButton.setEnabled(true);
    mRefreshButton.setEnabled(true);
    mSkipOrNextButton.setEnabled(true);
  }
  mWifiSettingsFragmentLayout.setVisibility(View.VISIBLE);
  mConnectingStatusLayout.setVisibility(View.GONE);
  final ViewGroup parent=(ViewGroup)findViewById(R.id.wifi_config_ui);
  parent.removeAllViews();
  parent.setVisibility(View.GONE);
  mWifiConfig=null;
}
