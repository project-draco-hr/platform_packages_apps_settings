{
  if (selectedAccessPoint != null && (selectedAccessPoint.security == AccessPoint.SECURITY_WEP || selectedAccessPoint.security == AccessPoint.SECURITY_PSK)) {
    edit=true;
  }
  mWifiSettings.pauseWifiScan();
  findViewById(R.id.wifi_setup).setVisibility(View.GONE);
  final ViewGroup parent=(ViewGroup)findViewById(R.id.wifi_config_ui);
  parent.setVisibility(View.VISIBLE);
  parent.removeAllViews();
  mWifiConfig=new WifiConfigUiForSetupWizardXL(this,parent,selectedAccessPoint,edit);
  final View view=mWifiConfig.getView();
  if (selectedAccessPoint != null) {
    view.findViewById(R.id.wifi_general_info).setVisibility(View.VISIBLE);
    ((TextView)view.findViewById(R.id.title)).setText(selectedAccessPoint.getTitle());
    ((TextView)view.findViewById(R.id.summary)).setText(selectedAccessPoint.getSummary());
  }
 else {
    view.findViewById(R.id.wifi_general_info).setVisibility(View.GONE);
  }
  if (selectedAccessPoint != null && selectedAccessPoint.security == AccessPoint.SECURITY_NONE) {
    mStatusText.setText(R.string.wifi_setup_status_unsecured_network);
  }
 else   if (selectedAccessPoint != null && selectedAccessPoint.security == AccessPoint.SECURITY_EAP) {
    mStatusText.setText(R.string.wifi_setup_status_eap_not_supported);
    mConnectButton.setVisibility(View.GONE);
  }
 else {
    mStatusText.setText(R.string.wifi_setup_status_edit_network);
    mConnectButton.setVisibility(View.VISIBLE);
  }
  mConnectButton.setText(R.string.wifi_connect);
  mAddNetworkButton.setVisibility(View.GONE);
  mRefreshButton.setVisibility(View.GONE);
  mSkipOrNextButton.setVisibility(View.GONE);
  mBackButton.setVisibility(View.VISIBLE);
}
