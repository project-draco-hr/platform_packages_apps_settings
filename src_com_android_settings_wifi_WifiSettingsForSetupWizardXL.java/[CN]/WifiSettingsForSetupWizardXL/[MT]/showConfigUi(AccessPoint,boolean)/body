{
  mScreenState=SCREEN_STATE_EDITING;
  if (selectedAccessPoint != null && (selectedAccessPoint.security == AccessPoint.SECURITY_WEP || selectedAccessPoint.security == AccessPoint.SECURITY_PSK)) {
    edit=true;
  }
  mWifiSettings.pauseWifiScan();
  mWifiSettingsFragmentLayout.setVisibility(View.GONE);
  mConnectingStatusLayout.setVisibility(View.GONE);
  final ViewGroup parent=(ViewGroup)findViewById(R.id.wifi_config_ui);
  parent.setVisibility(View.VISIBLE);
  parent.removeAllViews();
  mWifiConfig=new WifiConfigUiForSetupWizardXL(this,parent,selectedAccessPoint,edit);
  if (selectedAccessPoint == null) {
    showAddNetworkTitle();
    mConnectButton.setVisibility(View.VISIBLE);
    showDisconnectedProgressBar();
    showEditingButtonState();
  }
 else   if (selectedAccessPoint.security == AccessPoint.SECURITY_NONE) {
    mNetworkName=selectedAccessPoint.getTitle().toString();
    mConnectButton.performClick();
  }
 else {
    mNetworkName=selectedAccessPoint.getTitle().toString();
    showEditingTitle();
    showDisconnectedProgressBar();
    showEditingButtonState();
    if (selectedAccessPoint.security == AccessPoint.SECURITY_EAP) {
      onEapNetworkSelected();
    }
 else {
      mConnectButton.setVisibility(View.VISIBLE);
      mConnectButton.setText(R.string.wifi_connect);
      mBackButton.setText(R.string.wifi_setup_cancel);
    }
  }
}
