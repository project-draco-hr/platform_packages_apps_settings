{
  final DetailedState state=stateMap.get(originalState);
  if (originalState == DetailedState.FAILED) {
    refreshAccessPoints(true);
  }
switch (state) {
case SCANNING:
{
      if (mWifiSettings.getAccessPointsCount() == 0) {
        mProgressBar.setVisibility(View.VISIBLE);
        mProgressBar.setIndeterminate(true);
        mTopDividerNoProgress.setVisibility(View.GONE);
      }
 else {
        mProgressBar.setVisibility(View.GONE);
        mProgressBar.setIndeterminate(false);
        mTopDividerNoProgress.setVisibility(View.VISIBLE);
      }
      break;
    }
case CONNECTING:
{
    if (mScreenState != SCREEN_STATE_DISCONNECTED && mScreenState != SCREEN_STATE_CONNECTED) {
      showConnectingState();
    }
    break;
  }
case CONNECTED:
{
  showConnectedState();
  break;
}
default :
if (mScreenState != SCREEN_STATE_CONNECTED) {
showDisconnectedState(Summary.get(this,state));
}
break;
}
mPreviousState=state;
}
