{
  final DetailedState state=sNetworkStateMap.get(originalState);
  if (originalState == DetailedState.FAILED) {
    refreshAccessPoints(true);
  }
switch (state) {
case SCANNING:
{
      if (mScreenState == SCREEN_STATE_DISCONNECTED) {
        if (mWifiSettings.getAccessPointsCount() == 0) {
          showScanningState();
        }
 else {
          showDisconnectedProgressBar();
          mWifiSettingsFragmentLayout.setVisibility(View.VISIBLE);
          mBottomPadding.setVisibility(View.GONE);
        }
      }
 else {
        showDisconnectedProgressBar();
      }
      break;
    }
case CONNECTING:
{
    if (mScreenState == SCREEN_STATE_CONNECTING) {
      showConnectingState();
    }
    break;
  }
case CONNECTED:
{
  showConnectedState();
  break;
}
default :
if (mScreenState != SCREEN_STATE_CONNECTED && mWifiSettings.getAccessPointsCount() > 0) {
showDisconnectedState(Summary.get(this,state));
}
break;
}
mPreviousNetworkState=state;
}
