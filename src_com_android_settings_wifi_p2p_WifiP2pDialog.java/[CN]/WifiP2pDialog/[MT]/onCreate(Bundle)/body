{
  mView=getLayoutInflater().inflate(R.layout.wifi_p2p_dialog,null);
  Spinner mWpsSetup=((Spinner)mView.findViewById(R.id.wps_setup));
  setView(mView);
  setInverseBackgroundForced(true);
  Context context=getContext();
  setTitle(R.string.wifi_p2p_settings_title);
  mDeviceName=(TextView)mView.findViewById(R.id.device_name);
  mDeviceAddress=(TextView)mView.findViewById(R.id.device_address);
  setButton(BUTTON_SUBMIT,context.getString(R.string.wifi_connect),mListener);
  setButton(DialogInterface.BUTTON_NEGATIVE,context.getString(R.string.wifi_cancel),mListener);
  if (mDevice != null) {
    mDeviceName.setText(mDevice.deviceName);
    mDeviceAddress.setText(mDevice.deviceAddress);
    mWpsSetup.setSelection(mWpsSetupIndex);
  }
  mWpsSetup.setOnItemSelectedListener(this);
  super.onCreate(savedInstanceState);
}
